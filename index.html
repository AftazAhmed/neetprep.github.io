<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Class 8 - PbP</title>
<style>
  body {
    font-family: 'Montserrat', Arial, sans-serif;
    margin: 0;
    padding: 16px 8px;
    background-color: #f9fafb;
    color: #1f2937;
    overflow-x: hidden;
  }
  
  .header {
    text-align: center;
    background-color: #023047;
    color: #ffb347;
    padding: 32px 16px 24px 16px;
    border-radius: 10px;
    margin-bottom: 24px;
    position: relative;
    overflow: hidden;
  }
  
  .header::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle at center, #4f59b0 0%, transparent 70%);
    opacity: 0.3;
    pointer-events: none;
  }
  
  .header h1 {
    position: relative;
    margin: 0 0 8px 0;
    font-size: 2.5rem;
    font-weight: 900;
    letter-spacing: 2px;
    color: #ffa726;
  }
  
  .header .subtitle {
    position: relative;
    font-size: 16px;
    font-weight: 600;
    color: #b9fbc0;
    letter-spacing: 0.6px;
  }
  
  /* FRACTION STYLES */
  .frac {
    display: inline-block;
    vertical-align: middle;
    text-align: center;
    margin: 0 3px;
  }
  
  .frac .num {
    display: block;
    padding: 1px 4px;
    border-bottom: 2px solid currentColor;
    line-height: 1.2;
    font-size: 0.95em;
  }
  
  .frac .den {
    display: block;
    padding: 1px 4px;
    line-height: 1.2;
    font-size: 0.95em;
  }
  
  .frac-lg {
    display: inline-block;
    vertical-align: middle;
    text-align: center;
    font-size: 1em;
    margin: 0 4px;
  }
  
  .frac-lg .num {
    display: block;
    padding: 3px 8px;
    border-bottom: 3px solid currentColor;
    font-weight: 700;
    line-height: 1.3;
  }
  
  .frac-lg .den {
    display: block;
    padding: 3px 8px;
    font-weight: 700;
    line-height: 1.3;
  }
  
  /* NOTES SECTION STYLES */
  .notes-container {
    max-width: 100%;
    margin: 0 auto;
    background: white;
    padding: 20px 12px;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }
  
  .notes-title {
    font-size: 22px;
    font-weight: 800;
    color: #023047;
    margin-bottom: 20px;
    text-align: center;
    border-bottom: 3px solid #028090;
    padding-bottom: 10px;
  }
  
  .note-segment {
    margin-bottom: 24px;
    padding: 16px;
    background: #f9fafb;
    border-radius: 6px;
    border-left: 4px solid #028090;
  }
  
  .segment-heading {
    font-size: 17px;
    font-weight: 700;
    color: #116466;
    margin-bottom: 12px;
  }
  
  .segment-subheading {
    font-size: 15px;
    font-weight: 700;
    color: #2a6f62;
    margin-top: 12px;
    margin-bottom: 8px;
  }
  
  .note-paragraph {
    font-size: 13px;
    line-height: 1.6;
    color: #1f2937;
    margin-bottom: 10px;
    text-align: justify;
  }
  
  .note-list {
    list-style: none;
    padding-left: 0;
    margin: 10px 0;
  }
  
  .note-list li {
    padding: 6px 0 6px 24px;
    position: relative;
    font-size: 13px;
    line-height: 1.6;
  }
  
  .note-list li:before {
    content: "‚ñ∏";
    position: absolute;
    left: 6px;
    color: #028090;
    font-weight: 700;
    font-size: 14px;
  }
  
  .note-numbered-list {
    padding-left: 18px;
    margin: 10px 0;
  }
  
  .note-numbered-list li {
    padding: 5px 0;
    font-size: 13px;
    line-height: 1.6;
  }
  
  .note-table {
    width: 100%;
    border-collapse: collapse;
    margin: 16px 0;
    background: white;
    border-radius: 6px;
    overflow: hidden;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    font-size: 12px;
  }
  
  .note-table th {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    padding: 10px 8px;
    text-align: left;
    font-weight: 700;
    font-size: 12px;
  }
  
  .note-table td {
    padding: 10px 8px;
    border-bottom: 1px solid #e5e7eb;
    font-size: 12px;
    line-height: 1.5;
  }
  
  .note-table tr:last-child td {
    border-bottom: none;
  }
  
  .note-table tr:hover {
    background-color: #f9fafb;
  }
  
  .formula-box {
    background: linear-gradient(135deg, #fff3e0, #ffe0b2);
    border: 2px solid #ff9800;
    padding: 16px;
    margin: 16px 0;
    border-radius: 6px;
    text-align: center;
  }
  
  .formula-label {
    font-size: 12px;
    color: #e65100;
    font-weight: 700;
    margin-bottom: 10px;
  }
  
  .formula-text {
    font-size: 16px;
    font-weight: 700;
    color: #bf360c;
    margin: 6px 0;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    flex-wrap: wrap;
  }
  
  .equation-box {
    background: linear-gradient(135deg, #e3f2fd, #bbdefb);
    border: 2px solid #2196f3;
    padding: 14px;
    margin: 14px 0;
    border-radius: 6px;
    text-align: center;
  }
  
  .equation-text {
    font-size: 15px;
    font-weight: 600;
    color: #0d47a1;
  }
  
  .highlight-box {
    background: linear-gradient(135deg, #fff8e1, #ffe0b2);
    border-left: 4px solid #ff9800;
    padding: 12px 16px;
    margin: 12px 0;
    border-radius: 6px;
    font-size: 13px;
  }
  
  .highlight-box strong {
    color: #e65100;
  }
  
  .definition-box {
    background: linear-gradient(135deg, #e3f2fd, #bbdefb);
    border-left: 4px solid #2196f3;
    padding: 12px 16px;
    margin: 12px 0;
    border-radius: 6px;
  }
  
  .definition-term {
    font-weight: 700;
    color: #0d47a1;
    font-size: 14px;
    margin-bottom: 6px;
  }
  
  .definition-text {
    color: #1565c0;
    line-height: 1.6;
    font-size: 13px;
  }
  
  .important-note {
    background: linear-gradient(135deg, #ffebee, #ffcdd2);
    border: 2px solid #f44336;
    padding: 12px 16px;
    margin: 12px 0;
    border-radius: 6px;
    font-size: 13px;
  }
  
  .important-note strong {
    color: #c62828;
  }
  
  /* MCQ STYLES */
  .mcq-container {
    max-width: 100%;
    margin: 0 auto;
  }
  
  .score-display {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    padding: 12px 16px;
    border-radius: 8px;
    margin-bottom: 16px;
    text-align: center;
    font-weight: 700;
    font-size: 16px;
  }
  
  .question-count {
    font-weight: 700;
    font-size: 15px;
    color: #116466;
    margin-bottom: 14px;
    border-left: 4px solid #028090;
    padding-left: 12px;
  }
  
  .question-item {
    background-color: #fff8f0;
    border-radius: 8px;
    border: 1.5px solid #f0c49c;
    margin-bottom: 20px;
    padding: 16px;
    font-size: 13px;
  }
  
  .question-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
    gap: 8px;
    flex-wrap: wrap;
  }
  
  .question-number {
    font-weight: 700;
    font-size: 16px;
    color: #2a6f62;
  }
  
  .chatgpt-btn {
    background-color: #198754;
    color: white;
    padding: 6px 12px;
    border-radius: 6px;
    font-weight: 600;
    font-size: 11px;
    border: none;
    cursor: pointer;
    transition: all 0.3s;
  }
  
  .chatgpt-btn:hover {
    background-color: #146c43;
    transform: scale(1.05);
  }
  
  .question-text {
    font-weight: 600;
    font-size: 13px;
    color: #255c4d;
    margin-bottom: 12px;
    line-height: 1.6;
  }
  
  .options {
    margin-bottom: 14px;
  }
  
  .option {
    background-color: #ffffff;
    border-radius: 6px;
    border: 1.8px solid #b5d0c8;
    padding: 10px 14px;
    margin: 6px 0;
    font-weight: 500;
    font-size: 13px;
    color: #244636;
    cursor: pointer;
    transition: all 0.3s;
    position: relative;
  }
  
  .option:hover {
    background-color: #e8f5f1;
    border-color: #71b280;
  }
  
  .option.correct {
    background-color: #d4edda;
    border-color: #28a745;
  }
  
  .option.wrong {
    background-color: #f8d7da;
    border-color: #dc3545;
  }
  
  .option.correct::after {
    content: "‚úì";
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    color: #28a745;
    font-weight: 700;
    font-size: 18px;
  }
  
  .option.wrong::after {
    content: "‚úó";
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    color: #dc3545;
    font-weight: 700;
    font-size: 18px;
  }
  
  .button-group {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
  }
  
  .btn {
    padding: 8px 14px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 700;
    font-size: 13px;
    transition: all 0.3s;
  }
  
  .btn-answer {
    background-color: #198754;
    color: #ffffff;
  }
  
  .btn-answer:hover {
    background-color: #146c43;
  }
  
  /* Q&A STYLES */
  .mark-badge {
    display: inline-block;
    padding: 5px 12px;
    border-radius: 16px;
    font-size: 11px;
    font-weight: 700;
    margin-left: 8px;
    vertical-align: middle;
  }
  
  .mark-1 { background: linear-gradient(135deg, #4caf50, #66bb6a); color: white; }
  .mark-2 { background: linear-gradient(135deg, #2196f3, #42a5f5); color: white; }
  .mark-3 { background: linear-gradient(135deg, #ff9800, #ffa726); color: white; }
  .mark-5 { background: linear-gradient(135deg, #f44336, #ef5350); color: white; }
  
  .qa-container {
    max-width: 100%;
    margin: 0 auto;
  }
  
  .qa-item {
    background: white;
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 16px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    border-left: 4px solid #028090;
  }
  
  .qa-item.mark-1-item { border-left-color: #4caf50; }
  .qa-item.mark-2-item { border-left-color: #2196f3; }
  .qa-item.mark-3-item { border-left-color: #ff9800; }
  .qa-item.mark-5-item { border-left-color: #f44336; }
  
  .qa-question {
    font-size: 14px;
    font-weight: 700;
    color: #023047;
    margin-bottom: 14px;
    line-height: 1.6;
  }
  
  .qa-question-number {
    display: inline-block;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    padding: 5px 12px;
    border-radius: 16px;
    font-size: 12px;
    margin-right: 8px;
    font-weight: 700;
  }
  
  .qa-answer-section {
    background: #f9fafb;
    padding: 14px;
    border-radius: 6px;
    margin-top: 12px;
  }
  
  .qa-answer-label {
    font-weight: 700;
    color: #116466;
    font-size: 14px;
    margin-bottom: 10px;
    display: block;
  }
  
  .answer-length-guide {
    background: linear-gradient(135deg, #fff3e0, #ffe0b2);
    border-left: 3px solid #ff9800;
    padding: 10px 12px;
    margin-bottom: 12px;
    border-radius: 5px;
    font-size: 11px;
    color: #e65100;
    font-weight: 600;
  }
  
  .answer-1mark, .answer-2mark, .answer-3mark, .answer-5mark {
    padding: 12px;
    border-radius: 6px;
    font-size: 13px;
    line-height: 1.6;
  }
  
  .answer-1mark {
    background: linear-gradient(135deg, #e8f5e9, #c8e6c9);
    border-left: 3px solid #4caf50;
  }
  
  .answer-2mark {
    background: linear-gradient(135deg, #e3f2fd, #bbdefb);
    border-left: 3px solid #2196f3;
  }
  
  .answer-2mark .point {
    margin: 8px 0;
    padding-left: 18px;
    position: relative;
    font-size: 13px;
    line-height: 1.6;
  }
  
  .answer-2mark .point:before {
    content: "‚óè";
    position: absolute;
    left: 0;
    color: #2196f3;
    font-weight: 700;
  }
  
  .answer-3mark {
    background: linear-gradient(135deg, #fff3e0, #ffe0b2);
    border-left: 3px solid #ff9800;
  }
  
  .answer-3mark .point {
    margin: 10px 0;
    padding: 10px;
    background: white;
    border-radius: 5px;
    font-size: 13px;
    line-height: 1.6;
  }
  
  .answer-3mark .point strong {
    color: #e65100;
  }
  
  .answer-5mark {
    background: linear-gradient(135deg, #ffebee, #ffcdd2);
    border-left: 3px solid #f44336;
  }
  
  .answer-5mark .section {
    margin: 12px 0;
    padding: 12px;
    background: white;
    border-radius: 6px;
  }
  
  .answer-5mark .section h5 {
    margin: 0 0 8px 0;
    color: #c62828;
    font-size: 14px;
  }
  
  .answer-5mark .section p {
    margin: 6px 0;
    font-size: 13px;
    line-height: 1.6;
  }
  
  /* Mathematical notation */
  sub {
    font-size: 0.75em;
    vertical-align: sub;
  }
  
  sup {
    font-size: 0.75em;
    vertical-align: super;
  }
  
  /* CONTROLS */
  .controls {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    margin-bottom: 12px;
    justify-content: center;
    align-items: center;
  }
  
  .dropdown-group {
    min-width: 140px;
    flex: 1;
  }
  
  label {
    display: block;
    font-weight: 700;
    font-size: 13px;
    margin-bottom: 5px;
    color: #344e41;
  }
  
  select {
    width: 100%;
    padding: 8px 10px;
    border-radius: 6px;
    border: 2px solid #028090;
    font-size: 13px;
    background-color: #ffffff;
    color: #023047;
    transition: 0.3s;
  }
  
  select:focus {
    outline: none;
    border-color: #023047;
    background-color: #e0f7f4;
  }
  
  .reload-btn {
    cursor: pointer;
    background-color: #8b5cf6;
    border: none;
    color: #fff;
    padding: 8px 12px;
    border-radius: 6px;
    font-weight: 700;
    font-size: 12px;
    height: 34px;
    transition: all 0.3s;
  }
  
  .reload-btn:hover {
    background-color: #7c3aed;
  }
  
  /* VIEW TOGGLE */
  .view-toggle {
    display: flex;
    gap: 10px;
    margin-bottom: 16px;
    justify-content: center;
    flex-wrap: wrap;
  }
  
  .view-btn {
    padding: 8px 16px;
    border: 2px solid #028090;
    background: white;
    color: #023047;
    border-radius: 6px;
    font-weight: 700;
    font-size: 13px;
    cursor: pointer;
    transition: all 0.3s;
  }
  
  .view-btn:hover, .view-btn.active {
    background: #028090;
    color: white;
  }
  
  /* FILTER BY MARKS */
  .mark-filter {
    display: flex;
    gap: 6px;
    justify-content: center;
    margin-bottom: 16px;
    flex-wrap: wrap;
  }
  
  .mark-filter-btn {
    padding: 6px 12px;
    border: 2px solid #e0e0e0;
    background: white;
    border-radius: 16px;
    cursor: pointer;
    font-weight: 600;
    font-size: 11px;
    transition: all 0.3s;
  }
  
  .mark-filter-btn:hover {
    border-color: #028090;
  }
  
  .mark-filter-btn.active {
    border-color: transparent;
  }
  
  .mark-filter-btn.filter-1.active { background: linear-gradient(135deg, #4caf50, #66bb6a); color: white; }
  .mark-filter-btn.filter-2.active { background: linear-gradient(135deg, #2196f3, #42a5f5); color: white; }
  .mark-filter-btn.filter-3.active { background: linear-gradient(135deg, #ff9800, #ffa726); color: white; }
  .mark-filter-btn.filter-5.active { background: linear-gradient(135deg, #f44336, #ef5350); color: white; }
  .mark-filter-btn.filter-all.active { background: linear-gradient(135deg, #667eea, #764ba2); color: white; }
  
  /* MOBILE RESPONSIVE */
  @media (max-width: 900px) {
    .header h1 {
      font-size: 2rem;
    }
    
    .header .subtitle {
      font-size: 14px;
    }
  }
</style>
</head>
<body>

<div class="header" role="banner">
  <h1>Class 8</h1>
  <div class="subtitle">Pagewise Notes, MCQs, Q&A</div>
</div>

<!-- CHAPTER SELECTION -->
<div class="controls">
  <div class="dropdown-group">
    <label for="chapterSelect">Chapter:</label>
    <select id="chapterSelect" onchange="updatePages()">
      <option value="">Select Chapter</option>
      <option value="1">Chapter 1</option>
      <option value="2">Chapter 2</option>
      <option value="3">Chapter 3</option>
      <option value="4">Chapter 4</option>
      <option value="5">Chapter 5</option>
      <option value="6">Chapter 6</option>
      <option value="7">Chapter 7: Electronic Configuration</option>
      <option value="8">Chapter 8</option>
      <option value="9">Chapter 9</option>
      <option value="10">Chapter 10</option>
    </select>
  </div>
  <div class="dropdown-group">
    <label for="pageSelect">Page:</label>
    <select id="pageSelect" onchange="loadPage()" disabled>
      <option value="">Select Page</option>
    </select>
  </div>
  <button class="reload-btn" onclick="window.location.reload()">‚Üª Reload</button>
</div>

<!-- VIEW TOGGLE -->
<div class="view-toggle">
  <button class="view-btn active" onclick="switchView('mcq')">MCQs</button>
  <button class="view-btn" onclick="switchView('notes')">Notes</button>
  <button class="view-btn" onclick="switchView('qa')">Q&A</button>
</div>

<!-- MCQ MODE -->
<div id="mcqMode" class="mode-container">
  <div class="mcq-container">
    <div id="mcqContent">
      <p style="text-align:center; padding:40px; color:#666; font-size:14px;">Select a chapter and page to view MCQs</p>
    </div>
  </div>
</div>

<!-- NOTES MODE -->
<div id="notesMode" class="mode-container" style="display:none;">
  <div class="notes-container">
    <div id="notesContent">
      <p style="text-align:center; padding:40px; color:#666; font-size:14px;">Select a chapter and page to view notes</p>
    </div>
  </div>
</div>

<!-- Q&A MODE -->
<div id="qaMode" class="mode-container" style="display:none;">
  <h2 style="text-align:center; color:#023047; margin-bottom:20px; font-size:20px;">üìù Questions & Answers</h2>
  
  <div class="mark-filter">
    <button class="mark-filter-btn filter-all active" onclick="filterByMark('all')">All Questions</button>
    <button class="mark-filter-btn filter-1" onclick="filterByMark(1)">1 Mark</button>
    <button class="mark-filter-btn filter-2" onclick="filterByMark(2)">2 Marks</button>
    <button class="mark-filter-btn filter-3" onclick="filterByMark(3)">3 Marks</button>
    <button class="mark-filter-btn filter-5" onclick="filterByMark(5)">5 Marks</button>
  </div>
  
  <div class="qa-container">
    <div id="qaContent">
      <p style="text-align:center; padding:40px; color:#666; font-size:14px;">Select a chapter and page to view Q&A</p>
    </div>
  </div>
</div>

<script>
  function frac(numerator, denominator, large = false) {
    const cls = large ? 'frac-lg' : 'frac';
    return `<span class="${cls}"><span class="num">${numerator}</span><span class="den">${denominator}</span></span>`;
  }

  const chapterData = {
    "7": {
      "1": {
        mcqContent: `<div class="score-display" id="scoreDisplay">Score: 0/5 | Correct: 0 | Wrong: 0</div>

<div class="question-count">Questions: 5</div>

<div class="question-item">
  <div class="question-header">
    <div class="question-number">Q1</div>
    <button class="chatgpt-btn" onclick="openChatGPT('The electronic configuration of Aluminium is 2, 8, 3. How many electrons are present in the M shell?')">ü§ñ ChatGPT</button>
  </div>
  <div class="question-text">
    The electronic configuration of Aluminium is 2, 8, 3. How many electrons are present in the M shell?
  </div>
  <div class="options">
    <div class="option" onclick="checkAnswer(this, false, 'c')">a) 2</div>
    <div class="option" onclick="checkAnswer(this, false, 'c')">b) 8</div>
    <div class="option" onclick="checkAnswer(this, true, 'c')">c) 3</div>
    <div class="option" onclick="checkAnswer(this, false, 'c')">d) 13</div>
  </div>
  <div class="button-group">
    <button class="btn btn-answer" onclick="revealAnswer(this, 'c')">Show Answer</button>
  </div>
</div>

<div class="question-item">
  <div class="question-header">
    <div class="question-number">Q2</div>
    <button class="chatgpt-btn" onclick="openChatGPT('Which noble gas has the electronic configuration 2, 8, 8?')">ü§ñ ChatGPT</button>
  </div>
  <div class="question-text">
    Which noble gas has the electronic configuration 2, 8, 8?
  </div>
  <div class="options">
    <div class="option" onclick="checkAnswer(this, false, 'c')">a) Helium</div>
    <div class="option" onclick="checkAnswer(this, false, 'c')">b) Neon</div>
    <div class="option" onclick="checkAnswer(this, true, 'c')">c) Argon</div>
    <div class="option" onclick="checkAnswer(this, false, 'c')">d) Krypton</div>
  </div>
  <div class="button-group">
    <button class="btn btn-answer" onclick="revealAnswer(this, 'c')">Show Answer</button>
  </div>
</div>

<div class="question-item">
  <div class="question-header">
    <div class="question-number">Q3</div>
    <button class="chatgpt-btn" onclick="openChatGPT('Sodium atom loses one electron to form sodium cation. The electronic configuration of Na+ is:')">ü§ñ ChatGPT</button>
  </div>
  <div class="question-text">
    Sodium atom loses one electron to form sodium cation. The electronic configuration of Na<sup>+</sup> is:
  </div>
  <div class="options">
    <div class="option" onclick="checkAnswer(this, false, 'b')">a) 2, 8, 1</div>
    <div class="option" onclick="checkAnswer(this, true, 'b')">b) 2, 8</div>
    <div class="option" onclick="checkAnswer(this, false, 'b')">c) 2, 7</div>
    <div class="option" onclick="checkAnswer(this, false, 'b')">d) 2, 8, 2</div>
  </div>
  <div class="button-group">
    <button class="btn btn-answer" onclick="revealAnswer(this, 'b')">Show Answer</button>
  </div>
</div>

<div class="question-item">
  <div class="question-header">
    <div class="question-number">Q4</div>
    <button class="chatgpt-btn" onclick="openChatGPT('Chlorine gains one electron to form chloride anion. The electronic configuration of Cl- is:')">ü§ñ ChatGPT</button>
  </div>
  <div class="question-text">
    Chlorine gains one electron to form chloride anion. The electronic configuration of Cl<sup>-</sup> is:
  </div>
  <div class="options">
    <div class="option" onclick="checkAnswer(this, false, 'd')">a) 2, 8, 7</div>
    <div class="option" onclick="checkAnswer(this, false, 'd')">b) 2, 7, 8</div>
    <div class="option" onclick="checkAnswer(this, false, 'd')">c) 2, 8, 6</div>
    <div class="option" onclick="checkAnswer(this, true, 'd')">d) 2, 8, 8</div>
  </div>
  <div class="button-group">
    <button class="btn btn-answer" onclick="revealAnswer(this, 'd')">Show Answer</button>
  </div>
</div>

<div class="question-item">
  <div class="question-header">
    <div class="question-number">Q5</div>
    <button class="chatgpt-btn" onclick="openChatGPT('Which element has 17 protons and 18 electrons?')">ü§ñ ChatGPT</button>
  </div>
  <div class="question-text">
    Which element has 17 protons and 18 electrons?
  </div>
  <div class="options">
    <div class="option" onclick="checkAnswer(this, false, 'b')">a) Chlorine atom</div>
    <div class="option" onclick="checkAnswer(this, true, 'b')">b) Chloride ion</div>
    <div class="option" onclick="checkAnswer(this, false, 'b')">c) Argon atom</div>
    <div class="option" onclick="checkAnswer(this, false, 'b')">d) Sodium cation</div>
  </div>
  <div class="button-group">
    <button class="btn btn-answer" onclick="revealAnswer(this, 'b')">Show Answer</button>
  </div>
</div>`,

        notesContent: `<div class="notes-title">üìö Electronic Configuration of Elements</div>

<div class="note-segment">
  <div class="segment-heading">Introduction to Electronic Configuration</div>
  
  <div class="note-paragraph">
    Electronic configuration represents the arrangement of electrons in different shells around the nucleus of an atom. The shells are designated as K, L, M, N and can hold a maximum number of electrons according to the formula 2n<sup>2</sup>, where n is the shell number.
  </div>
  
  <div class="definition-box">
    <div class="definition-term">Electronic Configuration</div>
    <div class="definition-text">
      The distribution of electrons in an atom among the available shells K, L, M, N surrounding the nucleus.
    </div>
  </div>
</div>

<div class="note-segment">
  <div class="segment-heading">Maximum Electrons in Each Shell</div>
  
  <table class="note-table">
    <thead>
      <tr>
        <th>Shell Name</th>
        <th>Shell Number (n)</th>
        <th>Maximum Electrons (2n<sup>2</sup>)</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>K</td>
        <td>1</td>
        <td>2</td>
      </tr>
      <tr>
        <td>L</td>
        <td>2</td>
        <td>8</td>
      </tr>
      <tr>
        <td>M</td>
        <td>3</td>
        <td>18</td>
      </tr>
      <tr>
        <td>N</td>
        <td>4</td>
        <td>32</td>
      </tr>
    </tbody>
  </table>
  
  <div class="important-note">
    <strong>Important:</strong> The outermost shell can hold a maximum of 8 electrons, even if the formula allows more.
  </div>
</div>

<div class="note-segment">
  <div class="segment-heading">Electronic Configuration of Elements</div>
  
  <table class="note-table">
    <thead>
      <tr>
        <th>Type of Element</th>
        <th>Element</th>
        <th>Atomic Number</th>
        <th>K</th>
        <th>L</th>
        <th>M</th>
        <th>N</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td rowspan="3"><strong>Noble Gases</strong></td>
        <td>Helium (He)</td>
        <td>2</td>
        <td>2</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>Neon (Ne)</td>
        <td>10</td>
        <td>2</td>
        <td>8</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>Argon (Ar)</td>
        <td>18</td>
        <td>2</td>
        <td>8</td>
        <td>8</td>
        <td>-</td>
      </tr>
      <tr>
        <td rowspan="5"><strong>Metals</strong></td>
        <td>Sodium (Na)</td>
        <td>11</td>
        <td>2</td>
        <td>8</td>
        <td>1</td>
        <td>-</td>
      </tr>
      <tr>
        <td>Magnesium (Mg)</td>
        <td>12</td>
        <td>2</td>
        <td>8</td>
        <td>2</td>
        <td>-</td>
      </tr>
      <tr>
        <td>Aluminium (Al)</td>
        <td>13</td>
        <td>2</td>
        <td>8</td>
        <td>3</td>
        <td>-</td>
      </tr>
      <tr>
        <td>Potassium (K)</td>
        <td>19</td>
        <td>2</td>
        <td>8</td>
        <td>8</td>
        <td>1</td>
      </tr>
      <tr>
        <td>Calcium (Ca)</td>
        <td>20</td>
        <td>2</td>
        <td>8</td>
        <td>8</td>
        <td>2</td>
      </tr>
      <tr>
        <td rowspan="6"><strong>Non-Metals</strong></td>
        <td>Nitrogen (N)</td>
        <td>7</td>
        <td>2</td>
        <td>5</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>Oxygen (O)</td>
        <td>8</td>
        <td>2</td>
        <td>6</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>Fluorine (F)</td>
        <td>9</td>
        <td>2</td>
        <td>7</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>Phosphorus (P)</td>
        <td>15</td>
        <td>2</td>
        <td>8</td>
        <td>5</td>
        <td>-</td>
      </tr>
      <tr>
        <td>Sulphur (S)</td>
        <td>16</td>
        <td>2</td>
        <td>8</td>
        <td>6</td>
        <td>-</td>
      </tr>
      <tr>
        <td>Chlorine (Cl)</td>
        <td>17</td>
        <td>2</td>
        <td>8</td>
        <td>7</td>
        <td>-</td>
      </tr>
    </tbody>
  </table>
</div>

<div class="note-segment">
  <div class="segment-heading">Formation of Ions</div>
  
  <div class="segment-subheading">Cation Formation</div>
  
  <div class="note-paragraph">
    Metals lose electrons from their outermost shell to attain stable noble gas configuration. The atom becomes positively charged after losing electrons.
  </div>
  
  <div class="equation-box">
    <div class="equation-text">
      Na ‚Üí Na<sup>+</sup> + e<sup>-</sup>
      <br>
      2, 8, 1 ‚Üí 2, 8
      <br>
      <span style="font-size:11px; color:#666;">Sodium cation</span>
    </div>
  </div>
  
  <div class="note-paragraph">
    Sodium has 11 protons in its nucleus. After losing one electron, it has 10 electrons but still 11 protons. So sodium cation Na<sup>+</sup> has electronic configuration 2, 8 which is similar to neon.
  </div>
  
  <div class="segment-subheading">Anion Formation</div>
  
  <div class="note-paragraph">
    Non-metals gain electrons in their outermost shell to complete their octet and attain stable noble gas configuration. The atom becomes negatively charged after gaining electrons.
  </div>
  
  <div class="equation-box">
    <div class="equation-text">
      Cl + e<sup>-</sup> ‚Üí Cl<sup>-</sup>
      <br>
      2, 8, 7 ‚Üí 2, 8, 8
      <br>
      <span style="font-size:11px; color:#666;">Chloride anion</span>
    </div>
  </div>
  
  <div class="note-paragraph">
    Chlorine atom gains one electron. After gaining an electron, the chlorine atom gets a unit negative charge because its nucleus has 17 protons and there are now 18 electrons in the K, L and M shells. This gives chloride anion Cl<sup>-</sup> configuration 2, 8, 8 which is similar to argon.
  </div>
</div>

<div class="note-segment">
  <div class="segment-heading">Formation of Sodium Chloride</div>
  
  <div class="note-paragraph">
    Sodium chloride is an ionic compound formed by transfer of electron from sodium to chlorine. Sodium and chlorine ions, being oppositely charged, attract each other and are held by strong electrostatic forces of attraction to exist as sodium chloride (NaCl).
  </div>
  
  <div class="highlight-box">
    <strong>Key Point:</strong> Sodium chloride does not exist as molecules but as aggregates of oppositely charged ions held together by electrostatic forces.
  </div>
  
  <div class="equation-box">
    <div class="equation-text">
      Na + Cl ‚Üí Na<sup>+</sup> + Cl<sup>-</sup> ‚Üí NaCl
      <br>
      <span style="font-size:11px; color:#666;">Electron transfer from sodium to chlorine</span>
    </div>
  </div>
  
  <ul class="note-list">
    <li>Sodium atom loses one electron to form Na<sup>+</sup> with configuration 2, 8</li>
    <li>Chlorine atom gains one electron to form Cl<sup>-</sup> with configuration 2, 8, 8</li>
    <li>Both ions attain stable noble gas configuration</li>
    <li>Opposite charges attract and form ionic bond</li>
  </ul>
</div>

<div class="note-segment">
  <div class="segment-heading">Key Concepts Summary</div>
  
  <ul class="note-list">
    <li>Atoms are electrically neutral with equal protons and electrons</li>
    <li>Atomic number equals number of protons equals number of electrons in neutral atom</li>
    <li>Electrons are arranged in shells K, L, M, N around the nucleus</li>
    <li>Maximum electrons in a shell is given by 2n<sup>2</sup> formula</li>
    <li>Outermost shell can hold maximum 8 electrons even if formula allows more</li>
    <li>Noble gases have completely filled outermost shells and are stable</li>
    <li>Metals lose electrons to form positive ions called cations</li>
    <li>Non-metals gain electrons to form negative ions called anions</li>
    <li>Ions are formed to attain stable noble gas configuration</li>
    <li>Ionic compounds form when metals react with non-metals by electron transfer</li>
  </ul>
</div>`,

        qaContent: `<p style="text-align:center; color:#666; margin-bottom:20px; font-size:13px;">
  Chapter 7 Page 1: Electronic Configuration | Total: 6 Questions
</p>

<div class="qa-item mark-1-item" data-mark="1">
  <div class="qa-question">
    <span class="qa-question-number">Q1</span>
    What is electronic configuration?
    <span class="mark-badge mark-1">1 Mark</span>
  </div>
  
  <div class="answer-length-guide">
    üìù For 1 mark: Write definition in one clear sentence (20-30 words)
  </div>
  
  <div class="qa-answer-section">
    <span class="qa-answer-label">‚úçÔ∏è Answer:</span>
    <div class="answer-1mark">
      Electronic configuration is the distribution or arrangement of electrons in different shells K, L, M, N around the nucleus of an atom.
    </div>
  </div>
</div>

<div class="qa-item mark-2-item" data-mark="2">
  <div class="qa-question">
    <span class="qa-question-number">Q2</span>
    Write the electronic configuration of sodium and chlorine. How do they form ions?
    <span class="mark-badge mark-2">2 Marks</span>
  </div>
  
  <div class="answer-length-guide">
    üìù For 2 marks: Configuration (1 mark) + Ion formation (1 mark). Total: 40-50 words
  </div>
  
  <div class="qa-answer-section">
    <span class="qa-answer-label">‚úçÔ∏è Answer:</span>
    <div class="answer-2mark">
      <div class="point">
        <strong>Electronic Configuration:</strong> Sodium (Na) has atomic number 11 with configuration 2, 8, 1. Chlorine (Cl) has atomic number 17 with configuration 2, 8, 7.
      </div>
      <div class="point">
        <strong>Ion Formation:</strong> Sodium loses one electron to form Na<sup>+</sup> (2, 8). Chlorine gains one electron to form Cl<sup>-</sup> (2, 8, 8). Both attain stable noble gas configuration.
      </div>
    </div>
  </div>
</div>

<div class="qa-item mark-3-item" data-mark="3">
  <div class="qa-question">
    <span class="qa-question-number">Q3</span>
    Explain the formation of sodium chloride with electronic configuration. Draw diagram showing electron transfer.
    <span class="mark-badge mark-3">3 Marks</span>
  </div>
  
  <div class="answer-length-guide">
    üìù For 3 marks: Configuration (¬Ω), Electron transfer explanation (1¬Ω), Ionic bond formation (1). Total: 60-80 words
  </div>
  
  <div class="qa-answer-section">
    <span class="qa-answer-label">‚úçÔ∏è Answer:</span>
    <div class="answer-3mark">
      <div class="point">
        <strong>Step 1: Initial Configuration (¬Ω mark)</strong><br>
        Sodium (Na) has electronic configuration 2, 8, 1<br>
        Chlorine (Cl) has electronic configuration 2, 8, 7
      </div>
      
      <div class="point">
        <strong>Step 2: Electron Transfer (1¬Ω marks)</strong><br>
        Sodium atom loses one electron from M shell to form Na<sup>+</sup> cation with configuration 2, 8. Chlorine atom gains one electron in M shell to form Cl<sup>-</sup> anion with configuration 2, 8, 8. Both ions attain stable noble gas configuration.
      </div>
      
      <div class="point">
        <strong>Step 3: Ionic Bond Formation (1 mark)</strong><br>
        Na<sup>+</sup> and Cl<sup>-</sup> ions are oppositely charged and attract each other by strong electrostatic forces to form sodium chloride (NaCl). It exists as aggregates of ions, not molecules.
      </div>
    </div>
  </div>
</div>

<div class="qa-item mark-2-item" data-mark="2">
  <div class="qa-question">
    <span class="qa-question-number">Q4</span>
    What is the maximum number of electrons that can be accommodated in K, L and M shells? Give formula.
    <span class="mark-badge mark-2">2 Marks</span>
  </div>
  
  <div class="answer-length-guide">
    üìù For 2 marks: Formula (¬Ω), Shell capacities (1¬Ω)
  </div>
  
  <div class="qa-answer-section">
    <span class="qa-answer-label">‚úçÔ∏è Answer:</span>
    <div class="answer-2mark">
      <div class="point">
        <strong>Formula:</strong> Maximum electrons in any shell = 2n<sup>2</sup>, where n is shell number.
      </div>
      <div class="point">
        <strong>Shell Capacities:</strong><br>
        K shell (n=1): 2 √ó 1<sup>2</sup> = 2 electrons<br>
        L shell (n=2): 2 √ó 2<sup>2</sup> = 8 electrons<br>
        M shell (n=3): 2 √ó 3<sup>2</sup> = 18 electrons<br>
        However, outermost shell can hold maximum 8 electrons.
      </div>
    </div>
  </div>
</div>

<div class="qa-item mark-5-item" data-mark="5">
  <div class="qa-question">
    <span class="qa-question-number">Q5</span>
    Explain electronic configuration of elements with examples. Differentiate between metals, non-metals and noble gases based on their electronic configuration.
    <span class="mark-badge mark-5">5 Marks</span>
  </div>
  
  <div class="answer-length-guide">
    üìù For 5 marks: Definition (1), Examples with configuration (1¬Ω), Classification (1¬Ω), Properties (1). Total: 200-250 words
  </div>
  
  <div class="qa-answer-section">
    <span class="qa-answer-label">‚úçÔ∏è Answer:</span>
    <div class="answer-5mark">
      <div class="section">
        <h5>1. Electronic Configuration Definition (1 mark)</h5>
        <p>Electronic configuration is the distribution of electrons in an atom among the available shells K, L, M, N surrounding the nucleus. The electrons are arranged according to the capacity of each shell, given by the formula 2n<sup>2</sup>.</p>
      </div>
      
      <div class="section">
        <h5>2. Examples of Electronic Configuration (1¬Ω marks)</h5>
        <p><strong>Sodium (Na):</strong> Atomic number 11, Configuration: 2, 8, 1</p>
        <p><strong>Chlorine (Cl):</strong> Atomic number 17, Configuration: 2, 8, 7</p>
        <p><strong>Argon (Ar):</strong> Atomic number 18, Configuration: 2, 8, 8</p>
        <p><strong>Aluminium (Al):</strong> Atomic number 13, Configuration: 2, 8, 3</p>
        <p>The configuration shows how electrons fill shells starting from K shell closest to nucleus.</p>
      </div>
      
      <div class="section">
        <h5>3. Classification Based on Configuration (1¬Ω marks)</h5>
        <p><strong>Metals:</strong> Have 1 to 3 electrons in their outermost shell. Examples: Sodium (2, 8, 1), Magnesium (2, 8, 2), Aluminium (2, 8, 3). They lose electrons easily to form positive ions.</p>
        <p><strong>Non-metals:</strong> Have 5 to 7 electrons in their outermost shell. Examples: Nitrogen (2, 5), Oxygen (2, 6), Chlorine (2, 8, 7). They gain electrons to form negative ions.</p>
        <p><strong>Noble Gases:</strong> Have completely filled outermost shells with 8 electrons (or 2 for helium). Examples: Helium (2), Neon (2, 8), Argon (2, 8, 8). They are stable and do not react.</p>
      </div>
      
      <div class="section">
        <h5>4. Significance (1 mark)</h5>
        <p>Electronic configuration determines chemical properties of elements. Elements with similar outermost electron configuration show similar chemical behavior. This forms the basis of periodic table classification and helps predict how elements will react with each other.</p>
      </div>
    </div>
  </div>
</div>

<div class="qa-item mark-3-item" data-mark="3">
  <div class="qa-question">
    <span class="qa-question-number">Q6</span>
    Distinguish between atoms and ions. Explain with examples of sodium and chlorine.
    <span class="mark-badge mark-3">3 Marks</span>
  </div>
  
  <div class="answer-length-guide">
    üìù For 3 marks: Definition (1), Sodium example (1), Chlorine example (1)
  </div>
  
  <div class="qa-answer-section">
    <span class="qa-answer-label">‚úçÔ∏è Answer:</span>
    <div class="answer-3mark">
      <div class="point">
        <strong>Atoms vs Ions (1 mark)</strong><br>
        Atoms are electrically neutral particles with equal number of protons and electrons. Ions are charged particles formed when atoms lose or gain electrons. Positive ions (cations) form by electron loss; negative ions (anions) form by electron gain.
      </div>
      
      <div class="point">
        <strong>Sodium Example (1 mark)</strong><br>
        Sodium atom (Na) has 11 protons and 11 electrons with configuration 2, 8, 1. It loses one electron to form sodium ion (Na<sup>+</sup>) with 11 protons and 10 electrons, configuration 2, 8. It becomes positively charged cation.
      </div>
      
      <div class="point">
        <strong>Chlorine Example (1 mark)</strong><br>
        Chlorine atom (Cl) has 17 protons and 17 electrons with configuration 2, 8, 7. It gains one electron to form chloride ion (Cl<sup>-</sup>) with 17 protons and 18 electrons, configuration 2, 8, 8. It becomes negatively charged anion.
      </div>
    </div>
  </div>
</div>`
      }
    }
  };

  let currentView = 'mcq';
  let currentChapter = '';
  let currentPage = '';
  let currentFilter = 'all';
  let score = { correct: 0, wrong: 0 };

  function updatePages() {
    const chapterSelect = document.getElementById('chapterSelect').value;
    const pageSelect = document.getElementById('pageSelect');
    currentChapter = chapterSelect;
    
    pageSelect.innerHTML = '<option value="">Select Page</option>';
    
    if (chapterSelect) {
      for (let i = 1; i <= 10; i++) {
        const option = document.createElement('option');
        option.value = i;
        option.textContent = `Page ${i}`;
        pageSelect.appendChild(option);
      }
      pageSelect.disabled = false;
    } else {
      pageSelect.disabled = true;
    }
    
    // Reset score
    score = { correct: 0, wrong: 0 };
    updateScoreDisplay();
  }

  function loadPage() {
    const pageSelect = document.getElementById('pageSelect').value;
    currentPage = pageSelect;
    
    if (currentChapter && currentPage) {
      const pageData = chapterData[currentChapter]?.[currentPage];
      
      if (pageData) {
        document.getElementById('mcqContent').innerHTML = pageData.mcqContent;
        document.getElementById('notesContent').innerHTML = pageData.notesContent;
        document.getElementById('qaContent').innerHTML = pageData.qaContent;
      } else {
        const emptyMsg = '<p style="text-align:center; padding:40px; color:#666; font-size:14px;">Content not available for this page yet</p>';
        document.getElementById('mcqContent').innerHTML = emptyMsg;
        document.getElementById('notesContent').innerHTML = emptyMsg;
        document.getElementById('qaContent').innerHTML = emptyMsg;
      }
      
      // Reset score
      score = { correct: 0, wrong: 0 };
      updateScoreDisplay();
    }
  }

  function switchView(view) {
    currentView = view;
    document.getElementById('mcqMode').style.display = view === 'mcq' ? 'block' : 'none';
    document.getElementById('notesMode').style.display = view === 'notes' ? 'block' : 'none';
    document.getElementById('qaMode').style.display = view === 'qa' ? 'block' : 'none';
    
    document.querySelectorAll('.view-btn').forEach(btn => btn.classList.remove('active'));
    event.target.classList.add('active');
  }

  function checkAnswer(element, isCorrect, correctOption) {
    const questionItem = element.closest('.question-item');
    const allOptions = questionItem.querySelectorAll('.option');
    
    // Disable all options in this question
    allOptions.forEach(opt => {
      opt.style.pointerEvents = 'none';
      if (opt === element) {
        opt.classList.add(isCorrect ? 'correct' : 'wrong');
      }
    });
    
    // Show correct answer
    allOptions.forEach(opt => {
      if (opt.textContent.trim().startsWith(correctOption + ')')) {
        opt.classList.add('correct');
      }
    });
    
    // Update score
    if (isCorrect) {
      score.correct++;
    } else {
      score.wrong++;
    }
    updateScoreDisplay();
  }

  function revealAnswer(button, correctOption) {
    const questionItem = button.closest('.question-item');
    const allOptions = questionItem.querySelectorAll('.option');
    
    allOptions.forEach(opt => {
      opt.style.pointerEvents = 'none';
      if (opt.textContent.trim().startsWith(correctOption + ')')) {
        opt.classList.add('correct');
      }
    });
    
    button.disabled = true;
    button.style.opacity = '0.5';
  }

  function updateScoreDisplay() {
    const scoreDisplay = document.getElementById('scoreDisplay');
    if (scoreDisplay) {
      const total = score.correct + score.wrong;
      scoreDisplay.textContent = `Score: ${score.correct}/${total} | Correct: ${score.correct} | Wrong: ${score.wrong}`;
    }
  }

  function openChatGPT(questionText) {
    const encodedText = encodeURIComponent(questionText);
    window.open(`https://chat.openai.com/?q=${encodedText}`, '_blank');
  }

  function filterByMark(mark) {
    currentFilter = mark;
    
    document.querySelectorAll('.mark-filter-btn').forEach(btn => btn.classList.remove('active'));
    if (mark === 'all') {
      document.querySelector('.filter-all').classList.add('active');
    } else {
      document.querySelector(`.filter-${mark}`).classList.add('active');
    }
    
    document.querySelectorAll('.qa-item').forEach(item => {
      if (mark === 'all') {
        item.style.display = 'block';
      } else {
        const itemMark = item.getAttribute('data-mark');
        item.style.display = itemMark == mark ? 'block' : 'none';
      }
    });
  }
</script>

</body>
</html>
