<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Class 8 - PbP</title>
<style>
  body {
    font-family: 'Montserrat', Arial, sans-serif;
    margin: 0;
    padding: 16px 8px;
    background-color: #f9fafb;
    color: #1f2937;
    overflow-x: hidden;
  }
  
  .header {
    text-align: center;
    background-color: #023047;
    color: #ffb347;
    padding: 32px 16px 24px 16px;
    border-radius: 10px;
    margin-bottom: 24px;
    position: relative;
    overflow: hidden;
  }
  
  .header::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle at center, #4f59b0 0%, transparent 70%);
    opacity: 0.3;
    pointer-events: none;
  }
  
  .header h1 {
    position: relative;
    margin: 0 0 8px 0;
    font-size: 2.5rem;
    font-weight: 900;
    letter-spacing: 2px;
    color: #ffa726;
  }
  
  .header .subtitle {
    position: relative;
    font-size: 16px;
    font-weight: 600;
    color: #b9fbc0;
    letter-spacing: 0.6px;
  }
  
  /* AI BUTTON STYLES - Circular with gradient */
  .ai-btn {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: linear-gradient(135deg, #dc2626 0%, #2563eb 100%);
    color: white;
    border: none;
    font-size: 12px;
    font-weight: 700;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s;
    box-shadow: 0 2px 8px rgba(220, 38, 38, 0.3);
  }
  
  .ai-btn:hover {
    transform: scale(1.1);
    box-shadow: 0 4px 12px rgba(220, 38, 38, 0.5);
  }
  
  /* ChatGPT Button for MCQ */
  .chatgpt-btn {
    background: linear-gradient(90deg, #dc2626 0%, #2563eb 100%);
    color: white;
    border: none;
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 11px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  }
  
  .chatgpt-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  }
  
  /* FRACTION STYLES */
  .frac {
    display: inline-block;
    vertical-align: middle;
    text-align: center;
    margin: 0 3px;
  }
  
  .frac .num {
    display: block;
    padding: 1px 4px;
    border-bottom: 2px solid currentColor;
    line-height: 1.2;
    font-size: 0.95em;
  }
  
  .frac .den {
    display: block;
    padding: 1px 4px;
    line-height: 1.2;
    font-size: 0.95em;
  }
  
  .frac-lg {
    display: inline-block;
    vertical-align: middle;
    text-align: center;
    font-size: 1em;
    margin: 0 4px;
  }
  
  .frac-lg .num {
    display: block;
    padding: 3px 8px;
    border-bottom: 3px solid currentColor;
    font-weight: 700;
    line-height: 1.3;
  }
  
  .frac-lg .den {
    display: block;
    padding: 3px 8px;
    font-weight: 700;
    line-height: 1.3;
  }
  
  /* NOTES SECTION STYLES */
  .notes-container {
    max-width: 100%;
    margin: 0 auto;
    background: white;
    padding: 20px 4px;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }
  
  .notes-title {
    font-size: 22px;
    font-weight: 800;
    color: #023047;
    margin-bottom: 20px;
    text-align: center;
    border-bottom: 3px solid #028090;
    padding-bottom: 10px;
  }
  
  .note-segment {
    margin-bottom: 24px;
    padding: 16px 8px;
    background: #f9fafb;
    border-radius: 6px;
    border-left: 4px solid #028090;
    position: relative;
  }
  
  .note-segment .ai-btn {
    position: absolute;
    top: 12px;
    right: 8px;
  }
  
  .segment-heading {
    font-size: 17px;
    font-weight: 700;
    color: #116466;
    margin-bottom: 12px;
    padding-right: 40px;
  }
  
  .segment-subheading {
    font-size: 15px;
    font-weight: 700;
    color: #2a6f62;
    margin-top: 12px;
    margin-bottom: 8px;
  }
  
  .note-paragraph {
    font-size: 13px;
    line-height: 1.6;
    color: #1f2937;
    margin-bottom: 10px;
    text-align: justify;
  }
  
  .note-list {
    list-style: none;
    padding-left: 0;
    margin: 10px 0;
  }
  
  .note-list li {
    padding: 6px 0 6px 24px;
    position: relative;
    font-size: 13px;
    line-height: 1.6;
  }
  
  .note-list li:before {
    content: "‚ñ∏";
    position: absolute;
    left: 6px;
    color: #028090;
    font-weight: 700;
    font-size: 14px;
  }
  
  .note-numbered-list {
    padding-left: 18px;
    margin: 10px 0;
  }
  
  .note-numbered-list li {
    padding: 5px 0;
    font-size: 13px;
    line-height: 1.6;
  }
  
  .note-table {
    width: 100%;
    border-collapse: collapse;
    margin: 16px 0;
    background: white;
    border-radius: 6px;
    overflow: hidden;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    font-size: 12px;
  }
  
  .note-table th {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    padding: 10px 8px;
    text-align: left;
    font-weight: 700;
    font-size: 12px;
  }
  
  .note-table td {
    padding: 10px 8px;
    border-bottom: 1px solid #e5e7eb;
    font-size: 12px;
    line-height: 1.5;
  }
  
  .note-table tr:last-child td {
    border-bottom: none;
  }
  
  .note-table tr:hover {
    background-color: #f9fafb;
  }
  
  .formula-box {
    background: linear-gradient(135deg, #fff3e0, #ffe0b2);
    border: 2px solid #ff9800;
    padding: 16px;
    margin: 16px 0;
    border-radius: 6px;
    text-align: center;
  }
  
  .formula-label {
    font-size: 12px;
    color: #e65100;
    font-weight: 700;
    margin-bottom: 10px;
  }
  
  .formula-text {
    font-size: 16px;
    font-weight: 700;
    color: #bf360c;
    margin: 6px 0;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    flex-wrap: wrap;
  }
  
  .equation-box {
    background: linear-gradient(135deg, #e3f2fd, #bbdefb);
    border: 2px solid #2196f3;
    padding: 14px;
    margin: 14px 0;
    border-radius: 6px;
    text-align: center;
  }
  
  .equation-text {
    font-size: 15px;
    font-weight: 600;
    color: #0d47a1;
  }
  
  .highlight-box {
    background: linear-gradient(135deg, #fff8e1, #ffe0b2);
    border-left: 4px solid #ff9800;
    padding: 12px 16px;
    margin: 12px 0;
    border-radius: 6px;
    font-size: 13px;
  }
  
  .highlight-box strong {
    color: #e65100;
  }
  
  .definition-box {
    background: linear-gradient(135deg, #e3f2fd, #bbdefb);
    border-left: 4px solid #2196f3;
    padding: 12px 16px;
    margin: 12px 0;
    border-radius: 6px;
  }
  
  .definition-term {
    font-weight: 700;
    color: #0d47a1;
    font-size: 14px;
    margin-bottom: 6px;
  }
  
  .definition-text {
    color: #1565c0;
    line-height: 1.6;
    font-size: 13px;
  }
  
  .important-note {
    background: linear-gradient(135deg, #ffebee, #ffcdd2);
    border: 2px solid #f44336;
    padding: 12px 16px;
    margin: 12px 0;
    border-radius: 6px;
    font-size: 13px;
  }
  
  .important-note strong {
    color: #c62828;
  }
  
  /* MCQ STYLES */
  .mcq-container {
    max-width: 700px;
    margin: 0 auto;
  }
  
  .score-display {
    background: linear-gradient(135deg, #0369a1 0%, #0284c7 50%, #0ea5e9 100%);
    color: white;
    padding: 12px 16px;
    border-radius: 8px;
    margin-bottom: 16px;
    text-align: center;
    font-weight: 700;
    font-size: 16px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  
  .reset-score-btn {
    background: #ff9800;
    color: #000000;
    border: none;
    padding: 6px 12px;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s;
  }
  
  .reset-score-btn:hover {
    background: #fb8c00;
  }
  
  .question-count {
    font-weight: 700;
    font-size: 15px;
    color: #116466;
    margin-bottom: 14px;
    border-left: 4px solid #028090;
    padding-left: 12px;
  }
  
  .question-item {
    background-color: #fff8f0;
    border-radius: 8px;
    border: 1.5px solid #f0c49c;
    margin-bottom: 20px;
    padding: 16px;
    font-size: 13px;
  }
  
  .question-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
    gap: 8px;
  }
  
  .question-number {
    font-weight: 700;
    font-size: 16px;
    color: #2a6f62;
  }
  
  .question-text {
    font-weight: 600;
    font-size: 13px;
    color: #255c4d;
    margin-bottom: 12px;
    line-height: 1.6;
  }
  
  .options {
    margin-bottom: 14px;
  }
  
  .option {
    background-color: #ffffff;
    border-radius: 6px;
    border: 1.8px solid #b5d0c8;
    padding: 10px 14px;
    margin: 6px 0;
    font-weight: 500;
    font-size: 13px;
    color: #244636;
    cursor: pointer;
    transition: all 0.3s;
    position: relative;
  }
  
  .option:hover:not(.selected) {
    background-color: #e8f5f1;
    border-color: #71b280;
  }
  
  .option.selected.correct {
    background-color: #d4edda;
    border-color: #28a745;
  }
  
  .option.selected.wrong {
    background-color: #f8d7da;
    border-color: #dc3545;
  }
  
  .option.selected.correct::after {
    content: "‚úì";
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    color: #28a745;
    font-weight: 700;
    font-size: 18px;
  }
  
  .option.selected.wrong::after {
    content: "‚úó";
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    color: #dc3545;
    font-weight: 700;
    font-size: 18px;
  }
  
  .answer-display {
    background: linear-gradient(135deg, #d4edda, #c3e6cb);
    border: 2px solid #28a745;
    border-radius: 6px;
    padding: 12px;
    margin: 12px 0;
    font-size: 13px;
    font-weight: 600;
    color: #155724;
    display: none;
  }
  
  .answer-display.show {
    display: block;
  }
  
  .hint-display {
    background: linear-gradient(135deg, #fff3e0, #ffe0b2);
    border: 2px solid #ff9800;
    border-radius: 6px;
    padding: 12px;
    margin: 12px 0;
    font-size: 13px;
    font-weight: 600;
    color: #e65100;
    display: none;
  }
  
  .hint-display.show {
    display: block;
  }
  
  .button-group {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
  }
  
  .btn {
    padding: 8px 14px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 700;
    font-size: 13px;
    transition: all 0.3s;
  }
  
  .btn-answer {
    background-color: #047857;
    color: #ffffff;
  }
  
  .btn-answer:hover {
    background-color: #065f46;
  }
  
  .btn-hint {
    background-color: #dc2626;
    color: #ffffff;
  }
  
  .btn-hint:hover {
    background-color: #b91c1c;
  }
  
  /* Q&A STYLES */
  .mark-badge {
    display: inline-block;
    padding: 5px 12px;
    border-radius: 16px;
    font-size: 11px;
    font-weight: 700;
    margin-left: 8px;
    vertical-align: middle;
  }
  
  .mark-1 { background: linear-gradient(135deg, #4caf50, #66bb6a); color: white; }
  .mark-2 { background: linear-gradient(135deg, #2196f3, #42a5f5); color: white; }
  .mark-3 { background: linear-gradient(135deg, #ff9800, #ffa726); color: white; }
  .mark-5 { background: linear-gradient(135deg, #f44336, #ef5350); color: white; }
  
  .qa-container {
    max-width: 100%;
    margin: 0 auto;
    padding: 0;
  }
  
  .qa-item {
    background: white;
    border-radius: 8px;
    padding: 14px 6px;
    margin-bottom: 16px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    border-left: 4px solid #028090;
    position: relative;
  }
  
  .qa-item .ai-btn {
    position: absolute;
    top: 12px;
    right: 6px;
  }
  
  .qa-item.mark-1-item { border-left-color: #4caf50; }
  .qa-item.mark-2-item { border-left-color: #2196f3; }
  .qa-item.mark-3-item { border-left-color: #ff9800; }
  .qa-item.mark-5-item { border-left-color: #f44336; }
  
  .qa-question {
    font-size: 14px;
    font-weight: 700;
    color: #023047;
    margin-bottom: 14px;
    line-height: 1.6;
    padding-right: 40px;
  }
  
  .qa-question-number {
    display: inline-block;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    padding: 5px 12px;
    border-radius: 16px;
    font-size: 12px;
    margin-right: 8px;
    font-weight: 700;
  }
  
  .qa-answer-section {
    background: #f9fafb;
    padding: 12px 6px;
    border-radius: 6px;
    margin-top: 12px;
  }
  
  .qa-answer-label {
    font-weight: 700;
    color: #116466;
    font-size: 14px;
    margin-bottom: 10px;
    display: block;
  }
  
  .answer-length-guide {
    background: linear-gradient(135deg, #fff3e0, #ffe0b2);
    border-left: 3px solid #ff9800;
    padding: 10px 12px;
    margin-bottom: 12px;
    border-radius: 5px;
    font-size: 11px;
    color: #e65100;
    font-weight: 600;
  }
  
  .answer-1mark, .answer-2mark, .answer-3mark, .answer-5mark {
    padding: 10px 6px;
    border-radius: 6px;
    font-size: 13px;
    line-height: 1.6;
  }
  
  .answer-1mark {
    background: linear-gradient(135deg, #e8f5e9, #c8e6c9);
    border-left: 3px solid #4caf50;
  }
  
  .answer-2mark {
    background: linear-gradient(135deg, #e3f2fd, #bbdefb);
    border-left: 3px solid #2196f3;
  }
  
  .answer-2mark .point {
    margin: 8px 0;
    padding-left: 18px;
    position: relative;
    font-size: 13px;
    line-height: 1.6;
  }
  
  .answer-2mark .point:before {
    content: "‚óè";
    position: absolute;
    left: 0;
    color: #2196f3;
    font-weight: 700;
  }
  
  .answer-3mark {
    background: linear-gradient(135deg, #fff3e0, #ffe0b2);
    border-left: 3px solid #ff9800;
  }
  
  .answer-3mark .point {
    margin: 10px 0;
    padding: 8px 6px;
    background: white;
    border-radius: 5px;
    font-size: 13px;
    line-height: 1.6;
  }
  
  .answer-3mark .point strong {
    color: #e65100;
  }
  
  .answer-5mark {
    background: linear-gradient(135deg, #ffebee, #ffcdd2);
    border-left: 3px solid #f44336;
  }
  
  .answer-5mark .section {
    margin: 10px 0;
    padding: 10px 8px;
    background: white;
    border-radius: 6px;
  }
  
  .answer-5mark .section h5 {
    margin: 0 0 8px 0;
    color: #c62828;
    font-size: 14px;
  }
  
  .answer-5mark .section p {
    margin: 6px 0;
    font-size: 13px;
    line-height: 1.6;
  }
  
  sub { font-size: 0.75em; vertical-align: sub; }
  sup { font-size: 0.75em; vertical-align: super; }
  
  /* CONTROLS */
  .controls {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    margin-bottom: 12px;
    justify-content: center;
    align-items: center;
  }
  
  .dropdown-group {
    min-width: 140px;
    flex: 1;
  }
  
  label {
    display: block;
    font-weight: 700;
    font-size: 13px;
    margin-bottom: 5px;
    color: #344e41;
  }
  
  select {
    width: 100%;
    padding: 8px 10px;
    border-radius: 6px;
    border: 2px solid #028090;
    font-size: 13px;
    background-color: #ffffff;
    color: #023047;
    transition: 0.3s;
  }
  
  select:focus {
    outline: none;
    border-color: #023047;
    background-color: #e0f7f4;
  }
  
  .reload-btn {
    cursor: pointer;
    background-color: #8b5cf6;
    border: none;
    color: #fff;
    padding: 8px 12px;
    border-radius: 6px;
    font-weight: 700;
    font-size: 12px;
    height: 34px;
    transition: all 0.3s;
  }
  
  .reload-btn:hover {
    background-color: #7c3aed;
  }
  
  /* VIEW TOGGLE */
  .view-toggle {
    display: flex;
    gap: 10px;
    margin-bottom: 16px;
    justify-content: center;
    flex-wrap: wrap;
  }
  
  .view-btn {
    padding: 8px 16px;
    border: 2px solid #028090;
    background: white;
    color: #023047;
    border-radius: 6px;
    font-weight: 700;
    font-size: 13px;
    cursor: pointer;
    transition: all 0.3s;
  }
  
  .view-btn:hover, .view-btn.active {
    background: #028090;
    color: white;
  }
  
  /* FILTER BY MARKS */
  .mark-filter {
    display: flex;
    gap: 6px;
    justify-content: center;
    margin-bottom: 16px;
    flex-wrap: wrap;
  }
  
  .mark-filter-btn {
    padding: 6px 12px;
    border: 2px solid #e0e0e0;
    background: white;
    border-radius: 16px;
    cursor: pointer;
    font-weight: 600;
    font-size: 11px;
    transition: all 0.3s;
  }
  
  .mark-filter-btn:hover { border-color: #028090; }
  .mark-filter-btn.active { border-color: transparent; }
  
  .mark-filter-btn.filter-1.active { background: linear-gradient(135deg, #4caf50, #66bb6a); color: white; }
  .mark-filter-btn.filter-2.active { background: linear-gradient(135deg, #2196f3, #42a5f5); color: white; }
  .mark-filter-btn.filter-3.active { background: linear-gradient(135deg, #ff9800, #ffa726); color: white; }
  .mark-filter-btn.filter-5.active { background: linear-gradient(135deg, #f44336, #ef5350); color: white; }
  .mark-filter-btn.filter-all.active { background: linear-gradient(135deg, #667eea, #764ba2); color: white; }
  
  @media (max-width: 900px) {
    .header h1 { font-size: 2rem; }
    .header .subtitle { font-size: 14px; }
    .notes-container { padding: 16px 4px; }
    .qa-container { padding: 0; }
    .qa-item { padding: 14px 4px; }
    .qa-answer-section { padding: 10px 4px; }
    .answer-1mark, .answer-2mark, .answer-3mark, .answer-5mark { padding: 10px 4px; }
  }
</style>
</head>
<body>

<div class="header" role="banner">
  <h1>Class 8</h1>
  <div class="subtitle">Pagewise Notes, MCQs, Q&A</div>
</div>

<div class="controls">
  <div class="dropdown-group">
    <label for="chapterSelect">Chapter:</label>
    <select id="chapterSelect" onchange="updatePages()">
      <option value="">Select Chapter</option>
      <option value="1">Chapter 1</option>
      <option value="2">Chapter 2</option>
      <option value="3">Chapter 3</option>
      <option value="4">Chapter 4</option>
      <option value="5">Chapter 5</option>
      <option value="6">Chapter 6</option>
      <option value="7">Chapter 7: Electronic Configuration</option>
      <option value="8">Chapter 8</option>
      <option value="9">Chapter 9</option>
      <option value="10">Chapter 10</option>
    </select>
  </div>
  <div class="dropdown-group">
    <label for="pageSelect">Page:</label>
    <select id="pageSelect" onchange="loadPage()" disabled>
      <option value="">Select Page</option>
    </select>
  </div>
  <button class="reload-btn" onclick="window.location.reload()">‚Üª Reload</button>
</div>

<div class="view-toggle">
  <button class="view-btn active" onclick="switchView('mcq')">MCQs</button>
  <button class="view-btn" onclick="switchView('notes')">Notes</button>
  <button class="view-btn" onclick="switchView('qa')">Q&A</button>
</div>

<div id="mcqMode" class="mode-container">
  <div class="mcq-container">
    <div id="mcqContent">
      <p style="text-align:center; padding:40px; color:#666; font-size:14px;">Select a chapter and page to view MCQs</p>
    </div>
  </div>
</div>

<div id="notesMode" class="mode-container" style="display:none;">
  <div class="notes-container">
    <div id="notesContent">
      <p style="text-align:center; padding:40px; color:#666; font-size:14px;">Select a chapter and page to view notes</p>
    </div>
  </div>
</div>

<div id="qaMode" class="mode-container" style="display:none;">
  <h2 style="text-align:center; color:#023047; margin-bottom:20px; font-size:20px;">üìù Questions & Answers</h2>
  
  <div class="mark-filter">
    <button class="mark-filter-btn filter-all active" onclick="filterByMark('all')">All Questions</button>
    <button class="mark-filter-btn filter-1" onclick="filterByMark(1)">1 Mark</button>
    <button class="mark-filter-btn filter-2" onclick="filterByMark(2)">2 Marks</button>
    <button class="mark-filter-btn filter-3" onclick="filterByMark(3)">3 Marks</button>
    <button class="mark-filter-btn filter-5" onclick="filterByMark(5)">5 Marks</button>
  </div>
  
  <div class="qa-container">
    <div id="qaContent">
      <p style="text-align:center; padding:40px; color:#666; font-size:14px;">Select a chapter and page to view Q&A</p>
    </div>
  </div>
</div>

<script>
  function frac(numerator, denominator, large = false) {
    const cls = large ? 'frac-lg' : 'frac';
    return `<span class="${cls}"><span class="num">${numerator}</span><span class="den">${denominator}</span></span>`;
  }

  let pageScores = JSON.parse(localStorage.getItem('pageScores')) || {};

  const chapterData = {
    "1": {
      "1": { mcqData: [], notesData: [], qaData: [] },
      "2": { mcqData: [], notesData: [], qaData: [] },
      "3": { mcqData: [], notesData: [], qaData: [] },
      "4": { mcqData: [], notesData: [], qaData: [] },
      "5": { mcqData: [], notesData: [], qaData: [] },
      "6": { mcqData: [], notesData: [], qaData: [] },
      "7": { mcqData: [], notesData: [], qaData: [] },
      "8": { mcqData: [], notesData: [], qaData: [] },
      "9": { mcqData: [], notesData: [], qaData: [] },
      "10": { mcqData: [], notesData: [], qaData: [] }
    },
    "2": {
      "1": { mcqData: [], notesData: [], qaData: [] },
      "2": { mcqData: [], notesData: [], qaData: [] },
      "3": { mcqData: [], notesData: [], qaData: [] },
      "4": { mcqData: [], notesData: [], qaData: [] },
      "5": { mcqData: [], notesData: [], qaData: [] },
      "6": { mcqData: [], notesData: [], qaData: [] },
      "7": { mcqData: [], notesData: [], qaData: [] },
      "8": { mcqData: [], notesData: [], qaData: [] },
      "9": { mcqData: [], notesData: [], qaData: [] },
      "10": { mcqData: [], notesData: [], qaData: [] }
    },
    "3": {
      "1": { mcqData: [], notesData: [], qaData: [] },
      "2": { mcqData: [], notesData: [], qaData: [] },
      "3": { mcqData: [], notesData: [], qaData: [] },
      "4": { mcqData: [], notesData: [], qaData: [] },
      "5": { mcqData: [], notesData: [], qaData: [] },
      "6": { mcqData: [], notesData: [], qaData: [] },
      "7": { mcqData: [], notesData: [], qaData: [] },
      "8": { mcqData: [], notesData: [], qaData: [] },
      "9": { mcqData: [], notesData: [], qaData: [] },
      "10": { mcqData: [], notesData: [], qaData: [] }
    },
    "4": {
      "1": { mcqData: [], notesData: [], qaData: [] },
      "2": { mcqData: [], notesData: [], qaData: [] },
      "3": { mcqData: [], notesData: [], qaData: [] },
      "4": { mcqData: [], notesData: [], qaData: [] },
      "5": { mcqData: [], notesData: [], qaData: [] },
      "6": { mcqData: [], notesData: [], qaData: [] },
      "7": { mcqData: [], notesData: [], qaData: [] },
      "8": { mcqData: [], notesData: [], qaData: [] },
      "9": { mcqData: [], notesData: [], qaData: [] },
      "10": { mcqData: [], notesData: [], qaData: [] }
    },
    "5": {
      "1": { mcqData: [], notesData: [], qaData: [] },
      "2": { mcqData: [], notesData: [], qaData: [] },
      "3": { mcqData: [], notesData: [], qaData: [] },
      "4": { mcqData: [], notesData: [], qaData: [] },
      "5": { mcqData: [], notesData: [], qaData: [] },
      "6": { mcqData: [], notesData: [], qaData: [] },
      "7": { mcqData: [], notesData: [], qaData: [] },
      "8": { mcqData: [], notesData: [], qaData: [] },
      "9": { mcqData: [], notesData: [], qaData: [] },
      "10": { mcqData: [], notesData: [], qaData: [] }
    },
    "6": {
      "1": { mcqData: [ { 
  question: "What is the formula of magnesium chloride as shown in Figure 3.6?", 
  options: ["a) MgCl", "b) MgCl‚ÇÇ", "c) Mg‚ÇÇCl", "d) Mg‚ÇÇCl‚ÇÇ"], 
  correct: "b",
  hint: "Magnesium has electronic configuration 2,8,2 and loses 2 electrons. Chlorine has 2,8,7 and gains 1 electron. How many chlorine atoms are needed to accept 2 electrons from one magnesium atom?"
},
{ 
  question: "Which of the following ionic compounds has the highest melting point according to Table 3.4?", 
  options: ["a) NaCl (1074 K)", "b) CaO (2850 K)", "c) MgCl‚ÇÇ (981 K)", "d) LiCl (887 K)"], 
  correct: "b",
  hint: "Look at the melting point column in Table 3.4 and identify which compound requires the highest temperature to melt."
},
{ 
  question: "What is the boiling point of sodium chloride (NaCl) as per Table 3.4?", 
  options: ["a) 1074 K", "b) 1686 K", "c) 1600 K", "d) 2850 K"], 
  correct: "b",
  hint: "The table shows both melting and boiling points. For NaCl, the boiling point is the second temperature value listed."
},
{ 
  question: "In Activity 3.13, why are ionic compounds dissolved in water to test conductivity?", 
  options: ["a) To increase their temperature", "b) To allow ions to move freely and conduct electricity", "c) To change their color", "d) To reduce their melting point"], 
  correct: "b",
  hint: "Ionic compounds conduct electricity only when their ions are free to move. In solid state, ions are fixed in position. What happens when they dissolve in water?"
},
{ 
  question: "According to the page, compounds formed by transfer of electrons from metal to non-metal are called:", 
  options: ["a) Covalent compounds", "b) Metallic compounds", "c) Ionic or electrovalent compounds", "d) Molecular compounds"], 
  correct: "c",
  hint: "The text explicitly defines what these compounds are called when electrons are transferred between metal and non-metal atoms."
},
{ 
  question: "What is the electronic configuration of magnesium cation (Mg¬≤‚Å∫) after losing 2 electrons?", 
  options: ["a) 2,8,2", "b) 2,8", "c) 2,8,8", "d) 2,6"], 
  correct: "b",
  hint: "Magnesium atom has configuration 2,8,2. When it loses 2 electrons from the outermost shell, what remains?"
},
{ 
  question: "In Activity 3.13, which liquid is suggested for testing whether ionic compounds dissolve?", 
  options: ["a) Only water", "b) Only petrol", "c) Only kerosene", "d) Water, petrol, and kerosene"], 
  correct: "d",
  hint: "The activity instructs to test solubility in multiple liquids to understand the nature of ionic compounds. Read the activity steps carefully."
},
{ 
  question: "What is the ratio of melting point to boiling point approximately for CaCl‚ÇÇ from Table 3.4?", 
  options: ["a) 1:2", "b) 1:1", "c) 2:3", "d) 1:3"], 
  correct: "a",
  hint: "CaCl‚ÇÇ has melting point 1045 K and boiling point 1900 K. Calculate the approximate ratio: <span class='frac'><span class='num'>1045</span><span class='den'>1900</span></span> ‚âà ?"
}  ],
            notesData: [ { 
  heading: "Formation of Magnesium Chloride", 
  content: `<div class="note-paragraph">Magnesium chloride (MgCl‚ÇÇ) is formed through the transfer of electrons from magnesium atoms to chlorine atoms, creating an ionic bond. Refer to Figure 3.6 in the textbook for the complete electron transfer diagram.</div><div class="definition-box"><div class="definition-term">Electron Configuration</div><div class="definition-text">Magnesium (Mg): 2,8,2 ‚Üí Loses 2 electrons ‚Üí Mg¬≤‚Å∫: 2,8 (Magnesium cation)<br>Chlorine (Cl): 2,8,7 ‚Üí Gains 1 electron ‚Üí Cl‚Åª: 2,8,8 (Chloride anion)</div></div><div class="note-paragraph">Since one magnesium atom loses 2 electrons and each chlorine atom can gain only 1 electron, two chlorine atoms are required to accept the 2 electrons from one magnesium atom. This results in the formula MgCl‚ÇÇ.</div><div class="equation-box"><div class="equation-text">Mg + Cl‚ÇÇ ‚Üí Mg¬≤‚Å∫ + 2Cl‚Åª ‚Üí MgCl‚ÇÇ</div></div><div class="important-note"><strong>Important:</strong> Compounds formed by the transfer of electrons from a metal to a non-metal are known as ionic compounds or electrovalent compounds.</div>` 
},
{ 
  heading: "Properties of Ionic Compounds", 
  content: `<div class="note-paragraph">Ionic compounds exhibit distinct properties due to the strong electrostatic forces of attraction between oppositely charged ions. Section 3.3.1 introduces an activity to explore these properties experimentally.</div><div class="segment-subheading">Activity 3.13: Investigating Ionic Compound Properties</div><div class="note-paragraph">This activity involves testing samples of sodium chloride, potassium iodide, barium chloride, or any other salt from the laboratory to observe their physical and chemical properties.</div><div class="highlight-box"><strong>Key Observations to Make:</strong><br>1. Physical state of these salts (solid, liquid, or gas)<br>2. Amount of sample needed in a beaker to smell the compound<br>3. Appearance under magnifying glass<br>4. Effect of hammering on the samples<br>5. Solubility in water, petrol, and kerosene<br>6. Electrical conductivity of salt solution (refer to Figure 3.8 for experimental setup)</div><div class="note-paragraph">The activity includes creating a circuit as shown in Figure 3.8, where electrodes are inserted into salt solutions to test conductivity. A beaker with salt solution under test is connected to a battery, bulb, and switch.</div><div class="important-note"><strong>Important:</strong> Ionic compounds conduct electricity in molten state or when dissolved in water because ions become free to move and carry electric charge.</div>` 
},
{ 
  heading: "Melting and Boiling Points", 
  content: `<div class="note-paragraph">Ionic compounds generally have high melting and boiling points due to strong electrostatic forces between ions. Table 3.4 provides experimental data for several common ionic compounds.</div><table class="note-table"><thead><tr><th>Ionic Compound</th><th>Melting Point (K)</th><th>Boiling Point (K)</th></tr></thead><tbody><tr><td>NaCl (Sodium Chloride)</td><td>1074</td><td>1686</td></tr><tr><td>LiCl (Lithium Chloride)</td><td>887</td><td>1600</td></tr><tr><td>CaCl‚ÇÇ (Calcium Chloride)</td><td>1045</td><td>1900</td></tr><tr><td>CaO (Calcium Oxide)</td><td>2850</td><td>3120</td></tr><tr><td>MgCl‚ÇÇ (Magnesium Chloride)</td><td>981</td><td>1685</td></tr></tbody></table><div class="highlight-box"><strong>Key Point:</strong> Calcium oxide (CaO) has the highest melting point (2850 K) and boiling point (3120 K) among the listed compounds, indicating very strong ionic bonding.</div><div class="note-paragraph">The large difference between melting and boiling points indicates that significant energy is required not only to break the ionic lattice structure but also to completely separate ions in the gaseous phase.</div>` 
},
{ 
  heading: "Experimental Setup for Conductivity", 
  content: `<div class="note-paragraph">Figure 3.8 shows the experimental apparatus for testing the electrical conductivity of salt solutions. The setup demonstrates an important property of ionic compounds.</div><div class="definition-box"><div class="definition-term">Components of the Circuit</div><div class="definition-text">‚Ä¢ Spatula containing sample being heated<br>‚Ä¢ Burner for heating (Figure 3.9)<br>‚Ä¢ Battery as power source<br>‚Ä¢ Bulb as indicator<br>‚Ä¢ Switch to control circuit<br>‚Ä¢ Beaker containing salt solution<br>‚Ä¢ Graphite rod electrodes<br>‚Ä¢ Salt solution under test</div></div><div class="note-paragraph">When electrodes are inserted into the salt solution, if the bulb glows, it confirms that the solution conducts electricity. This happens because dissolved ionic compounds dissociate into freely moving ions.</div><div class="important-note"><strong>Important:</strong> The inference drawn from this experiment relates to the nature of ionic compounds - they conduct electricity in aqueous solution or molten state but not in solid state.</div>` 
} ],
            qaData: [ { 
  marks: 1, 
  question: "What is an ionic compound?", 
  answer: "An ionic compound (or electrovalent compound) is formed by the transfer of electrons from a metal to a non-metal, resulting in the formation of positively charged cations and negatively charged anions held together by electrostatic forces." 
},
{ 
  marks: 2, 
  question: "Why does magnesium chloride have the formula MgCl‚ÇÇ and not MgCl?", 
  answer: `<div class="point"><strong>Electron Loss from Magnesium:</strong> Magnesium (electronic configuration 2,8,2) loses 2 electrons to form Mg¬≤‚Å∫ ion with stable configuration 2,8.</div><div class="point"><strong>Electron Gain by Chlorine:</strong> Each chlorine atom (electronic configuration 2,8,7) can gain only 1 electron to form Cl‚Åª ion with configuration 2,8,8. Therefore, two chlorine atoms are needed to accept the 2 electrons lost by one magnesium atom, resulting in the formula MgCl‚ÇÇ.</div>` 
},
{ 
  marks: 1, 
  question: "Which ionic compound in Table 3.4 has the highest boiling point?", 
  answer: "Calcium oxide (CaO) has the highest boiling point of 3120 K among the ionic compounds listed in Table 3.4." 
},
{ 
  marks: 2, 
  question: "Why do ionic compounds conduct electricity in solution but not in solid state?", 
  answer: `<div class="point"><strong>In Solid State:</strong> Ionic compounds have ions fixed in rigid lattice positions. The ions cannot move freely, so they cannot carry electric charge, making solid ionic compounds non-conductive.</div><div class="point"><strong>In Solution or Molten State:</strong> When dissolved in water or melted, the ionic lattice breaks down and ions become free to move. These mobile ions can carry electric charge, allowing the solution or melt to conduct electricity (as demonstrated in Activity 3.13 and Figure 3.8).</div>` 
},
{ 
  marks: 3, 
  question: "Describe the formation of magnesium chloride with electron transfer details.", 
  answer: `<div class="point"><strong>Step 1: Initial Electron Configuration (¬Ω mark)</strong><br>Magnesium atom has electronic configuration 2,8,2 with 2 valence electrons. Chlorine atom has configuration 2,8,7 with 7 valence electrons (needs 1 more electron to complete octet).</div><div class="point"><strong>Step 2: Electron Transfer Process (1¬Ω marks)</strong><br>Magnesium loses 2 electrons from its outermost shell to form Mg¬≤‚Å∫ cation with stable configuration 2,8. Each chlorine atom gains 1 electron to form Cl‚Åª anion with stable configuration 2,8,8. Since magnesium loses 2 electrons but each chlorine can accept only 1 electron, two chlorine atoms are required for one magnesium atom. (Refer to Figure 3.6)</div><div class="point"><strong>Step 3: Ionic Bond Formation (1 mark)</strong><br>The Mg¬≤‚Å∫ cation and two Cl‚Åª anions are held together by strong electrostatic forces of attraction, forming the ionic compound magnesium chloride with formula MgCl‚ÇÇ. This electron transfer from metal to non-metal creates an electrovalent or ionic compound.</div>` 
},
{ 
  marks: 3, 
  question: "Explain the procedure and observations of Activity 3.13 for testing properties of ionic compounds.", 
  answer: `<div class="point"><strong>Step 1: Sample Collection and Physical Observation (1 mark)</strong><br>Take samples of sodium chloride, potassium iodide, barium chloride, or other salts from the laboratory. Observe their physical state (all are solids). Place a small amount in a beaker and note that ionic compounds typically have no strong smell. Examine samples under a magnifying glass to see crystalline structure.</div><div class="point"><strong>Step 2: Solubility and Mechanical Tests (1 mark)</strong><br>Test whether samples impart color to flame (flame test). Try hammering the samples to observe brittleness. Attempt to dissolve samples in water, petrol, and kerosene. Ionic compounds typically dissolve in water but not in organic solvents like petrol and kerosene.</div><div class="point"><strong>Step 3: Conductivity Test (1 mark)</strong><br>Make a circuit as shown in Figure 3.8 with battery, bulb, switch, beaker, and graphite rod electrodes. Insert electrodes into salt solution. If the bulb glows, the solution conducts electricity. This proves that ionic compounds conduct electricity in aqueous solution due to free-moving ions, demonstrating their electrovalent nature.</div>` 
},
{ 
  marks: 2, 
  question: "Compare the melting and boiling points of NaCl and CaO from Table 3.4. What does this indicate?", 
  answer: `<div class="point"><strong>Comparison of Values:</strong> NaCl has melting point 1074 K and boiling point 1686 K, while CaO has melting point 2850 K and boiling point 3120 K. CaO has significantly higher melting point (by 1776 K) and boiling point (by 1434 K) compared to NaCl.</div><div class="point"><strong>Indication:</strong> The much higher melting and boiling points of CaO indicate stronger electrostatic forces of attraction between Ca¬≤‚Å∫ and O¬≤‚Åª ions compared to Na‚Å∫ and Cl‚Åª ions. This is due to higher charges on calcium and oxide ions (both have ¬±2 charge) compared to sodium and chloride ions (both have ¬±1 charge), resulting in stronger ionic bonding in CaO.</div>` 
}  ] },
      "2": { mcqData: [], notesData: [], qaData: [] },
      "3": { mcqData: [], notesData: [], qaData: [] },
      "4": { mcqData: [], notesData: [], qaData: [] },
      "5": { mcqData: [  { 
  question: "What is the focal length of a convex mirror if its radius of curvature is 3.00 m?", 
  options: ["a) 3.00 m", "b) 1.50 m", "c) 6.00 m", "d) 0.75 m"], 
  correct: "b",
  hint: "The relationship between focal length and radius of curvature is f = <span class='frac'><span class='num'>R</span><span class='den'>2</span></span>. For a convex mirror, both f and R are positive."
},
{ 
  question: "In Example 9.1, a bus is located 5.00 m from a convex mirror. What is the image distance?", 
  options: ["a) ‚Äì1.15 m", "b) +5.00 m", "c) +1.15 m", "d) ‚Äì5.00 m"], 
  correct: "c",
  hint: "For a convex mirror, the image is always formed behind the mirror, so the image distance is positive. Use the mirror formula to calculate."
},
{ 
  question: "What is the magnification of the image in Example 9.1?", 
  options: ["a) ‚Äì0.23", "b) +0.23", "c) +1.15", "d) ‚Äì1.15"], 
  correct: "b",
  hint: "Magnification m = ‚Äì<span class='frac'><span class='num'>v</span><span class='den'>u</span></span>. Substitute v = +1.15 m and u = ‚Äì5.00 m. Positive magnification indicates erect image."
},
{ 
  question: "What is the nature of the image formed in Example 9.1 (convex mirror)?", 
  options: ["a) Real, inverted and magnified", "b) Virtual, erect and smaller", "c) Real, erect and smaller", "d) Virtual, inverted and magnified"], 
  correct: "b",
  hint: "Convex mirrors always form virtual, erect images. The magnification is 0.23 (less than 1), indicating the image is smaller than the object."
},
{ 
  question: "In Example 9.2, what is the object distance for a concave mirror when an object is placed 25.0 cm in front of it?", 
  options: ["a) +25.0 cm", "b) ‚Äì25.0 cm", "c) +15.0 cm", "d) ‚Äì15.0 cm"], 
  correct: "b",
  hint: "According to sign convention, object distance is always negative when the object is in front of the mirror (real object)."
},
{ 
  question: "What is the focal length of the concave mirror in Example 9.2?", 
  options: ["a) +15.0 cm", "b) ‚Äì15.0 cm", "c) +25.0 cm", "d) ‚Äì25.0 cm"], 
  correct: "b",
  hint: "For a concave mirror, the focal length is negative according to the sign convention because the focus is in front of the mirror."
},
{ 
  question: "The principal focus of a convex mirror is located:", 
  options: ["a) In front of the mirror", "b) Behind the mirror", "c) At the pole of the mirror", "d) At infinity"], 
  correct: "b",
  hint: "Example 9.1 explicitly states the position of the principal focus of a convex mirror in the solution."
},
{ 
  question: "If magnification m = +0.23, the image is:", 
  options: ["a) Real and smaller", "b) Virtual and smaller", "c) Real and magnified", "d) Virtual and magnified"], 
  correct: "b",
  hint: "Positive magnification indicates a virtual, erect image. Magnification less than 1 (0.23 < 1) means the image is smaller than the object."
} ], 
            notesData: [ { 
  heading: "Example 9.1 - Convex Mirror Image Formation", 
  content: `<div class="note-paragraph">This example demonstrates image formation by a convex mirror used as a rear-view mirror in automobiles.</div><div class="segment-subheading">Problem Statement</div><div class="note-paragraph">A convex mirror used for rear-view on an automobile has a radius of curvature of 3.00 m. If a bus is located at 5.00 m from this mirror, find the position, nature and size of the image.</div><div class="segment-subheading">Given Data</div><div class="note-paragraph">‚Ä¢ Radius of curvature, R = +3.00 m (positive for convex mirror)<br>‚Ä¢ Object-distance, u = ‚Äì5.00 m (negative as per sign convention)<br>‚Ä¢ Image-distance, v = ? (to be calculated)<br>‚Ä¢ Height of the image, h¬¥ = ? (to be calculated)</div><div class="important-note"><strong>Important:</strong> For a convex mirror, the radius of curvature and focal length are taken as positive according to the Cartesian sign convention.</div>` 
},
{ 
  heading: "Solution to Example 9.1 - Step 1", 
  content: `<div class="segment-subheading">Calculating Focal Length</div><div class="note-paragraph">The relationship between focal length and radius of curvature is:</div><div class="formula-box"><div class="formula-label">Focal Length Formula</div><div class="formula-text">f = <span class="frac"><span class="num">R</span><span class="den">2</span></span> = + <span class="frac"><span class="num">3.00 m</span><span class="den">2</span></span> = +1.50 m</div></div><div class="highlight-box"><strong>Key Point:</strong> The principal focus of a convex mirror is behind the mirror, hence the focal length is positive (+1.50 m).</div><div class="segment-subheading">Calculating Image Distance</div><div class="note-paragraph">Using the mirror formula:</div><div class="equation-box"><div class="equation-text"><span class="frac"><span class="num">1</span><span class="den">v</span></span> + <span class="frac"><span class="num">1</span><span class="den">u</span></span> = <span class="frac"><span class="num">1</span><span class="den">f</span></span></div></div><div class="note-paragraph">Rearranging:</div><div class="equation-box"><div class="equation-text"><span class="frac"><span class="num">1</span><span class="den">v</span></span> = <span class="frac"><span class="num">1</span><span class="den">f</span></span> ‚Äì <span class="frac"><span class="num">1</span><span class="den">u</span></span> = + <span class="frac"><span class="num">1</span><span class="den">1.50</span></span> ‚Äì <span class="frac"><span class="num">1</span><span class="den">(‚Äì5.00)</span></span> = <span class="frac"><span class="num">1</span><span class="den">1.50</span></span> + <span class="frac"><span class="num">1</span><span class="den">5.00</span></span></div></div><div class="note-paragraph">Taking common denominator:</div><div class="equation-box"><div class="equation-text"><span class="frac"><span class="num">1</span><span class="den">v</span></span> = <span class="frac"><span class="num">5.00 + 1.50</span><span class="den">7.50</span></span></div></div><div class="formula-box"><div class="formula-label">Image Distance</div><div class="formula-text">v = <span class="frac"><span class="num">+7.50</span><span class="den">6.50</span></span> = +1.15 m</div></div><div class="important-note"><strong>Important:</strong> The image is 1.15 m at the back of the mirror (positive value confirms image is behind the mirror).</div>` 
},
{ 
  heading: "Solution to Example 9.1 - Step 2", 
  content: `<div class="segment-subheading">Calculating Magnification</div><div class="note-paragraph">The magnification of a mirror is given by:</div><div class="formula-box"><div class="formula-label">Magnification Formula</div><div class="formula-text">m = <span class="frac"><span class="num">h¬¥</span><span class="den">h</span></span> = ‚Äì <span class="frac"><span class="num">v</span><span class="den">u</span></span></div></div><div class="note-paragraph">Substituting the values:</div><div class="equation-box"><div class="equation-text">m = ‚Äì <span class="frac"><span class="num">1.15 m</span><span class="den">‚Äì5.00 m</span></span> = +0.23</div></div><div class="segment-subheading">Nature and Size of Image</div><div class="definition-box"><div class="definition-term">Conclusion</div><div class="definition-text">The image is virtual, erect and smaller in size by a factor of 0.23.</div></div><div class="note-paragraph"><strong>Analysis:</strong><br>‚Ä¢ Positive magnification (+0.23) indicates the image is erect and virtual<br>‚Ä¢ Magnification < 1 means the image is smaller than the object<br>‚Ä¢ The image size is only 23% of the object size<br>‚Ä¢ This is why convex mirrors are used in rear-view mirrors - they provide a wider field of view with diminished images</div>` 
},
{ 
  heading: "Example 9.2 - Concave Mirror Image Formation", 
  content: `<div class="note-paragraph">This example demonstrates image formation by a concave mirror and how to locate the screen position for obtaining a sharp image.</div><div class="segment-subheading">Problem Statement</div><div class="note-paragraph">An object, 4.0 cm in size, is placed at 25.0 cm in front of a concave mirror of focal length 15.0 cm. At what distance from the mirror should a screen be placed in order to obtain a sharp image? Find the nature and the size of the image.</div><div class="segment-subheading">Given Data</div><div class="note-paragraph">‚Ä¢ Object-size, h = +4.0 cm (positive for erect object)<br>‚Ä¢ Object-distance, u = ‚Äì25.0 cm (negative as per sign convention)<br>‚Ä¢ Focal length, f = ‚Äì15.0 cm (negative for concave mirror)<br>‚Ä¢ Image-distance, v = ? (to be calculated)<br>‚Ä¢ Image-size, h¬¥ = ? (to be calculated)</div><div class="important-note"><strong>Important:</strong> For a concave mirror, the focal length is negative according to the Cartesian sign convention because the focus is in front of the mirror.</div>` 
},
{ 
  heading: "Solution to Example 9.2 - Calculation", 
  content: `<div class="segment-subheading">Using Mirror Formula</div><div class="note-paragraph">From Equation (10.1), the mirror formula is:</div><div class="equation-box"><div class="equation-text"><span class="frac"><span class="num">1</span><span class="den">v</span></span> + <span class="frac"><span class="num">1</span><span class="den">u</span></span> = <span class="frac"><span class="num">1</span><span class="den">f</span></span></div></div><div class="note-paragraph">Rearranging to solve for image distance:</div><div class="equation-box"><div class="equation-text"><span class="frac"><span class="num">1</span><span class="den">v</span></span> = <span class="frac"><span class="num">1</span><span class="den">f</span></span> ‚Äì <span class="frac"><span class="num">1</span><span class="den">u</span></span> = <span class="frac"><span class="num">1</span><span class="den">‚Äì15.0</span></span> ‚Äì <span class="frac"><span class="num">1</span><span class="den">‚Äì25.0</span></span> = ‚Äì <span class="frac"><span class="num">1</span><span class="den">15.0</span></span> + <span class="frac"><span class="num">1</span><span class="den">25.0</span></span></div></div><div class="highlight-box"><strong>Key Point:</strong> The solution continues on the next page to find the final image distance, screen position, and image characteristics.</div>` 
}  ],
            qaData: [  { 
  marks: 1, 
  question: "What is the relationship between focal length and radius of curvature for a spherical mirror?", 
  answer: "The focal length f is half of the radius of curvature R, given by the formula f = <span class='frac'><span class='num'>R</span><span class='den'>2</span></span>." 
},
{ 
  marks: 1, 
  question: "Where is the principal focus located for a convex mirror?", 
  answer: "The principal focus of a convex mirror is located behind the mirror (on the opposite side from where the object is placed)." 
},
{ 
  marks: 2, 
  question: "A convex mirror has a radius of curvature of 3.00 m. If an object is placed 5.00 m from the mirror, find the focal length and image distance.", 
  answer: `<div class="point"><strong>Focal Length:</strong> Using f = <span class="frac"><span class="num">R</span><span class="den">2</span></span> = <span class="frac"><span class="num">3.00 m</span><span class="den">2</span></span> = +1.50 m (positive for convex mirror)</div><div class="point"><strong>Image Distance:</strong> Using mirror formula <span class="frac"><span class="num">1</span><span class="den">v</span></span> = <span class="frac"><span class="num">1</span><span class="den">f</span></span> ‚Äì <span class="frac"><span class="num">1</span><span class="den">u</span></span> with u = ‚Äì5.00 m: <span class="frac"><span class="num">1</span><span class="den">v</span></span> = <span class="frac"><span class="num">1</span><span class="den">1.50</span></span> + <span class="frac"><span class="num">1</span><span class="den">5.00</span></span> = <span class="frac"><span class="num">6.50</span><span class="den">7.50</span></span>. Therefore, v = +1.15 m (image is 1.15 m behind the mirror).</div>` 
},
{ 
  marks: 3, 
  question: "A convex mirror used for rear-view on an automobile has a radius of curvature of 3.00 m. If a bus is located at 5.00 m from this mirror, find the position, nature and size of the image.", 
  answer: `<div class="point"><strong>Step 1: Calculate Focal Length and Image Distance (1 mark)</strong><br>Focal length: f = <span class="frac"><span class="num">R</span><span class="den">2</span></span> = <span class="frac"><span class="num">3.00 m</span><span class="den">2</span></span> = +1.50 m<br>Using <span class="frac"><span class="num">1</span><span class="den">v</span></span> = <span class="frac"><span class="num">1</span><span class="den">f</span></span> ‚Äì <span class="frac"><span class="num">1</span><span class="den">u</span></span> with u = ‚Äì5.00 m:<br><span class="frac"><span class="num">1</span><span class="den">v</span></span> = <span class="frac"><span class="num">1</span><span class="den">1.50</span></span> + <span class="frac"><span class="num">1</span><span class="den">5.00</span></span> = <span class="frac"><span class="num">5.00 + 1.50</span><span class="den">7.50</span></span><br>v = <span class="frac"><span class="num">7.50</span><span class="den">6.50</span></span> = +1.15 m</div><div class="point"><strong>Step 2: Calculate Magnification (1 mark)</strong><br>m = ‚Äì <span class="frac"><span class="num">v</span><span class="den">u</span></span> = ‚Äì <span class="frac"><span class="num">1.15 m</span><span class="den">‚Äì5.00 m</span></span> = +0.23</div><div class="point"><strong>Step 3: State Position, Nature and Size (1 mark)</strong><br><strong>Position:</strong> Image is 1.15 m at the back of the mirror<br><strong>Nature:</strong> Virtual and erect (positive magnification)<br><strong>Size:</strong> Smaller by a factor of 0.23, i.e., image is 23% of the object size</div>` 
},
{ 
  marks: 2, 
  question: "Why are convex mirrors preferred for rear-view mirrors in automobiles?", 
  answer: `<div class="point"><strong>Wider Field of View:</strong> Convex mirrors always form diminished (smaller) virtual images. This allows a wider field of view, enabling drivers to see more area behind the vehicle in a compact mirror.</div><div class="point"><strong>Always Erect Image:</strong> Convex mirrors always produce erect images regardless of object position. As seen in Example 9.1, the magnification is +0.23, meaning the image is virtual, erect, and smaller, which is ideal for monitoring traffic behind the vehicle without distortion in orientation.</div>` 
},
{ 
  marks: 2, 
  question: "State the sign conventions for focal length of concave and convex mirrors.", 
  answer: `<div class="point"><strong>Concave Mirror:</strong> The focal length of a concave mirror is negative (f < 0) because the principal focus is located in front of the mirror on the same side as the object. In Example 9.2, f = ‚Äì15.0 cm.</div><div class="point"><strong>Convex Mirror:</strong> The focal length of a convex mirror is positive (f > 0) because the principal focus is located behind the mirror on the opposite side from the object. In Example 9.1, f = +1.50 m.</div>` 
},
{ 
  marks: 1, 
  question: "What does positive magnification indicate about the nature of an image?", 
  answer: "Positive magnification indicates that the image is virtual and erect. In Example 9.1, m = +0.23 shows the image formed by the convex mirror is virtual and erect." 
},
{ 
  marks: 3, 
  question: "Derive the image distance for a concave mirror when an object of size 4.0 cm is placed at 25.0 cm in front of a concave mirror of focal length 15.0 cm.", 
  answer: `<div class="point"><strong>Step 1: Write Given Data with Sign Convention (¬Ω mark)</strong><br>Object distance: u = ‚Äì25.0 cm (negative, in front of mirror)<br>Focal length: f = ‚Äì15.0 cm (negative for concave mirror)<br>Image distance: v = ? (to be calculated)</div><div class="point"><strong>Step 2: Apply Mirror Formula (1¬Ω marks)</strong><br>Using the mirror formula from Equation (10.1):<br><span class="frac"><span class="num">1</span><span class="den">v</span></span> + <span class="frac"><span class="num">1</span><span class="den">u</span></span> = <span class="frac"><span class="num">1</span><span class="den">f</span></span><br>Rearranging:<br><span class="frac"><span class="num">1</span><span class="den">v</span></span> = <span class="frac"><span class="num">1</span><span class="den">f</span></span> ‚Äì <span class="frac"><span class="num">1</span><span class="den">u</span></span> = <span class="frac"><span class="num">1</span><span class="den">‚Äì15.0</span></span> ‚Äì <span class="frac"><span class="num">1</span><span class="den">‚Äì25.0</span></span> = ‚Äì <span class="frac"><span class="num">1</span><span class="den">15.0</span></span> + <span class="frac"><span class="num">1</span><span class="den">25.0</span></span></div><div class="point"><strong>Step 3: Calculate Final Value (1 mark)</strong><br>Taking LCM and simplifying (calculation continues on next page of textbook to get the final image distance value and determine where the screen should be placed for sharp image).</div>` 
}  ] },
      "6": { mcqData: [], notesData: [],
            qaData: [ { 
  marks: 1, 
  question: "What is the relationship between focal length and radius of curvature for a spherical mirror?", 
  answer: "The focal length f is half of the radius of curvature R, given by the formula f = <span class='frac'><span class='num'>R</span><span class='den'>2</span></span>." 
},
{ 
  marks: 1, 
  question: "Where is the principal focus located for a convex mirror?", 
  answer: "The principal focus of a convex mirror is located behind the mirror (on the opposite side from where the object is placed)." 
},
{ 
  marks: 2, 
  question: "A convex mirror has a radius of curvature of 3.00 m. If an object is placed 5.00 m from the mirror, find the focal length and image distance.", 
  answer: `<div class="point"><strong>Focal Length:</strong> Using f = <span class="frac"><span class="num">R</span><span class="den">2</span></span><br>f = <span class="frac"><span class="num">3.00 m</span><span class="den">2</span></span><br>f = +1.50 m (positive for convex mirror)</div><div class="point"><strong>Image Distance:</strong> Using mirror formula <span class="frac"><span class="num">1</span><span class="den">v</span></span> = <span class="frac"><span class="num">1</span><span class="den">f</span></span> ‚Äì <span class="frac"><span class="num">1</span><span class="den">u</span></span> with u = ‚Äì5.00 m:<br><span class="frac"><span class="num">1</span><span class="den">v</span></span> = <span class="frac"><span class="num">1</span><span class="den">1.50</span></span> + <span class="frac"><span class="num">1</span><span class="den">5.00</span></span><br><span class="frac"><span class="num">1</span><span class="den">v</span></span> = <span class="frac"><span class="num">6.50</span><span class="den">7.50</span></span><br>v = +1.15 m (image is 1.15 m behind the mirror).</div>` 
},
{ 
  marks: 3, 
  question: "A convex mirror used for rear-view on an automobile has a radius of curvature of 3.00 m. If a bus is located at 5.00 m from this mirror, find the position, nature and size of the image.", 
  answer: `<div class="point"><strong>Step 1: Calculate Focal Length and Image Distance (1 mark)</strong><br>Focal length: f = <span class="frac"><span class="num">R</span><span class="den">2</span></span><br>f = <span class="frac"><span class="num">3.00 m</span><span class="den">2</span></span><br>f = +1.50 m<br><br>Using <span class="frac"><span class="num">1</span><span class="den">v</span></span> = <span class="frac"><span class="num">1</span><span class="den">f</span></span> ‚Äì <span class="frac"><span class="num">1</span><span class="den">u</span></span> with u = ‚Äì5.00 m:<br><span class="frac"><span class="num">1</span><span class="den">v</span></span> = <span class="frac"><span class="num">1</span><span class="den">1.50</span></span> + <span class="frac"><span class="num">1</span><span class="den">5.00</span></span><br><span class="frac"><span class="num">1</span><span class="den">v</span></span> = <span class="frac"><span class="num">5.00 + 1.50</span><span class="den">7.50</span></span><br>v = <span class="frac"><span class="num">7.50</span><span class="den">6.50</span></span><br>v = +1.15 m</div><div class="point"><strong>Step 2: Calculate Magnification (1 mark)</strong><br>m = ‚Äì <span class="frac"><span class="num">v</span><span class="den">u</span></span><br>m = ‚Äì <span class="frac"><span class="num">1.15 m</span><span class="den">‚Äì5.00 m</span></span><br>m = +0.23</div><div class="point"><strong>Step 3: State Position, Nature and Size (1 mark)</strong><br><strong>Position:</strong> Image is 1.15 m at the back of the mirror<br><strong>Nature:</strong> Virtual and erect (positive magnification)<br><strong>Size:</strong> Smaller by a factor of 0.23, i.e., image is 23% of the object size</div>` 
},
{ 
  marks: 2, 
  question: "Why are convex mirrors preferred for rear-view mirrors in automobiles?", 
  answer: `<div class="point"><strong>Wider Field of View:</strong> Convex mirrors always form diminished (smaller) virtual images. This allows a wider field of view, enabling drivers to see more area behind the vehicle in a compact mirror.</div><div class="point"><strong>Always Erect Image:</strong> Convex mirrors always produce erect images regardless of object position. As seen in Example 9.1, the magnification is +0.23, meaning the image is virtual, erect, and smaller, which is ideal for monitoring traffic behind the vehicle without distortion in orientation.</div>` 
},
{ 
  marks: 2, 
  question: "State the sign conventions for focal length of concave and convex mirrors.", 
  answer: `<div class="point"><strong>Concave Mirror:</strong> The focal length of a concave mirror is negative (f < 0) because the principal focus is located in front of the mirror on the same side as the object. In Example 9.2, f = ‚Äì15.0 cm.</div><div class="point"><strong>Convex Mirror:</strong> The focal length of a convex mirror is positive (f > 0) because the principal focus is located behind the mirror on the opposite side from the object. In Example 9.1, f = +1.50 m.</div>` 
},
{ 
  marks: 1, 
  question: "What does positive magnification indicate about the nature of an image?", 
  answer: "Positive magnification indicates that the image is virtual and erect. In Example 9.1, m = +0.23 shows the image formed by the convex mirror is virtual and erect." 
},
{ 
  marks: 3, 
  question: "Derive the image distance for a concave mirror when an object of size 4.0 cm is placed at 25.0 cm in front of a concave mirror of focal length 15.0 cm.", 
  answer: `<div class="point"><strong>Step 1: Write Given Data with Sign Convention (¬Ω mark)</strong><br>Object distance: u = ‚Äì25.0 cm (negative, in front of mirror)<br>Focal length: f = ‚Äì15.0 cm (negative for concave mirror)<br>Image distance: v = ? (to be calculated)</div><div class="point"><strong>Step 2: Apply Mirror Formula (1¬Ω marks)</strong><br>Using the mirror formula from Equation (10.1):<br><span class="frac"><span class="num">1</span><span class="den">v</span></span> + <span class="frac"><span class="num">1</span><span class="den">u</span></span> = <span class="frac"><span class="num">1</span><span class="den">f</span></span><br><br>Rearranging:<br><span class="frac"><span class="num">1</span><span class="den">v</span></span> = <span class="frac"><span class="num">1</span><span class="den">f</span></span> ‚Äì <span class="frac"><span class="num">1</span><span class="den">u</span></span><br><span class="frac"><span class="num">1</span><span class="den">v</span></span> = <span class="frac"><span class="num">1</span><span class="den">‚Äì15.0</span></span> ‚Äì <span class="frac"><span class="num">1</span><span class="den">‚Äì25.0</span></span><br><span class="frac"><span class="num">1</span><span class="den">v</span></span> = ‚Äì <span class="frac"><span class="num">1</span><span class="den">15.0</span></span> + <span class="frac"><span class="num">1</span><span class="den">25.0</span></span></div><div class="point"><strong>Step 3: Calculate Final Value (1 mark)</strong><br>Taking LCM and simplifying (calculation continues on next page of textbook to get the final image distance value and determine where the screen should be placed for sharp image).</div>` 
}  ] },
      "7": { mcqData: [], notesData: [], qaData: [] },
      "8": { mcqData: [], notesData: [], qaData: [] },
      "9": { mcqData: [], notesData: [], qaData: [] },
      "10": { mcqData: [], notesData: [], qaData: [] }
    },
    "7": {
      "1": {
        mcqData: [
          { 
            question: "The electronic configuration of Aluminium is 2, 8, 3. How many electrons are present in the M shell?", 
            options: ["a) 2", "b) 8", "c) 3", "d) 13"], 
            correct: "c",
            hint: "Look at the third number in the electronic configuration. The shells are labeled K, L, M in order."
          },
          { 
            question: "Which noble gas has the electronic configuration 2, 8, 8?", 
            options: ["a) Helium", "b) Neon", "c) Argon", "d) Krypton"], 
            correct: "c",
            hint: "Count the total number of electrons (2+8+8=18). The element with atomic number 18 is this noble gas."
          },
          { 
            question: "Sodium atom loses one electron to form sodium cation. The electronic configuration of Na+ is:", 
            options: ["a) 2, 8, 1", "b) 2, 8", "c) 2, 7", "d) 2, 8, 2"], 
            correct: "b",
            hint: "Sodium starts with 2, 8, 1. When it loses one electron from the outermost shell, what remains?"
          },
          { 
            question: "Chlorine gains one electron to form chloride anion. The electronic configuration of Cl- is:", 
            options: ["a) 2, 8, 7", "b) 2, 7, 8", "c) 2, 8, 6", "d) 2, 8, 8"], 
            correct: "d",
            hint: "Chlorine has 2, 8, 7. When it gains one electron in the M shell, the M shell will have 7+1 electrons."
          },
          { 
            question: "Which element has 17 protons and 18 electrons?", 
            options: ["a) Chlorine atom", "b) Chloride ion", "c) Argon atom", "d) Sodium cation"], 
            correct: "b",
            hint: "An element is identified by the number of protons. If electrons > protons, it's a negative ion (anion)."
          }
        ],
        notesData: [
          { heading: "Introduction to Electronic Configuration", content: `<div class="note-paragraph">Electronic configuration represents the arrangement of electrons in different shells around the nucleus of an atom. The shells are designated as K, L, M, N and can hold a maximum number of electrons according to the formula 2n¬≤, where n is the shell number.</div><div class="definition-box"><div class="definition-term">Electronic Configuration</div><div class="definition-text">The distribution of electrons in an atom among the available shells K, L, M, N surrounding the nucleus.</div></div>` },
          { heading: "Maximum Electrons in Each Shell", content: `<table class="note-table"><thead><tr><th>Shell Name</th><th>Shell Number (n)</th><th>Maximum Electrons (2n¬≤)</th></tr></thead><tbody><tr><td>K</td><td>1</td><td>2</td></tr><tr><td>L</td><td>2</td><td>8</td></tr><tr><td>M</td><td>3</td><td>18</td></tr><tr><td>N</td><td>4</td><td>32</td></tr></tbody></table><div class="important-note"><strong>Important:</strong> The outermost shell can hold a maximum of 8 electrons, even if the formula allows more.</div>` },
          { heading: "Electronic Configuration of Elements", content: `<table class="note-table"><thead><tr><th>Type</th><th>Element</th><th>Atomic No</th><th>K</th><th>L</th><th>M</th><th>N</th></tr></thead><tbody><tr><td rowspan="3"><strong>Noble Gases</strong></td><td>Helium (He)</td><td>2</td><td>2</td><td>-</td><td>-</td><td>-</td></tr><tr><td>Neon (Ne)</td><td>10</td><td>2</td><td>8</td><td>-</td><td>-</td></tr><tr><td>Argon (Ar)</td><td>18</td><td>2</td><td>8</td><td>8</td><td>-</td></tr><tr><td rowspan="5"><strong>Metals</strong></td><td>Sodium (Na)</td><td>11</td><td>2</td><td>8</td><td>1</td><td>-</td></tr><tr><td>Magnesium (Mg)</td><td>12</td><td>2</td><td>8</td><td>2</td><td>-</td></tr><tr><td>Aluminium (Al)</td><td>13</td><td>2</td><td>8</td><td>3</td><td>-</td></tr><tr><td>Potassium (K)</td><td>19</td><td>2</td><td>8</td><td>8</td><td>1</td></tr><tr><td>Calcium (Ca)</td><td>20</td><td>2</td><td>8</td><td>8</td><td>2</td></tr><tr><td rowspan="6"><strong>Non-Metals</strong></td><td>Nitrogen (N)</td><td>7</td><td>2</td><td>5</td><td>-</td><td>-</td></tr><tr><td>Oxygen (O)</td><td>8</td><td>2</td><td>6</td><td>-</td><td>-</td></tr><tr><td>Fluorine (F)</td><td>9</td><td>2</td><td>7</td><td>-</td><td>-</td></tr><tr><td>Phosphorus (P)</td><td>15</td><td>2</td><td>8</td><td>5</td><td>-</td></tr><tr><td>Sulphur (S)</td><td>16</td><td>2</td><td>8</td><td>6</td><td>-</td></tr><tr><td>Chlorine (Cl)</td><td>17</td><td>2</td><td>8</td><td>7</td><td>-</td></tr></tbody></table>` },
          { heading: "Formation of Ions", content: `<div class="segment-subheading">Cation Formation</div><div class="note-paragraph">Metals lose electrons from their outermost shell to attain stable noble gas configuration. The atom becomes positively charged after losing electrons.</div><div class="equation-box"><div class="equation-text">Na ‚Üí Na‚Å∫ + e‚Åª<br>2, 8, 1 ‚Üí 2, 8<br><span style="font-size:11px; color:#666;">Sodium cation</span></div></div><div class="segment-subheading">Anion Formation</div><div class="note-paragraph">Non-metals gain electrons in their outermost shell to complete their octet and attain stable noble gas configuration. The atom becomes negatively charged after gaining electrons.</div><div class="equation-box"><div class="equation-text">Cl + e‚Åª ‚Üí Cl‚Åª<br>2, 8, 7 ‚Üí 2, 8, 8<br><span style="font-size:11px; color:#666;">Chloride anion</span></div></div>` }
        ],
        qaData: [
          { marks: 1, question: "What is electronic configuration?", answer: "Electronic configuration is the distribution or arrangement of electrons in different shells K, L, M, N around the nucleus of an atom." },
          { marks: 2, question: "Write the electronic configuration of sodium and chlorine. How do they form ions?", answer: `<div class="point"><strong>Electronic Configuration:</strong> Sodium (Na) has atomic number 11 with configuration 2, 8, 1. Chlorine (Cl) has atomic number 17 with configuration 2, 8, 7.</div><div class="point"><strong>Ion Formation:</strong> Sodium loses one electron to form Na‚Å∫ (2, 8). Chlorine gains one electron to form Cl‚Åª (2, 8, 8). Both attain stable noble gas configuration.</div>` },
          { marks: 3, question: "Explain the formation of sodium chloride with electronic configuration.", answer: `<div class="point"><strong>Step 1: Initial Configuration (¬Ω mark)</strong><br>Sodium (Na) has electronic configuration 2, 8, 1<br>Chlorine (Cl) has electronic configuration 2, 8, 7</div><div class="point"><strong>Step 2: Electron Transfer (1¬Ω marks)</strong><br>Sodium atom loses one electron from M shell to form Na‚Å∫ cation with configuration 2, 8. Chlorine atom gains one electron in M shell to form Cl‚Åª anion with configuration 2, 8, 8. Both ions attain stable noble gas configuration.</div><div class="point"><strong>Step 3: Ionic Bond Formation (1 mark)</strong><br>Na‚Å∫ and Cl‚Åª ions are oppositely charged and attract each other by strong electrostatic forces to form sodium chloride (NaCl). It exists as aggregates of ions, not molecules.</div>` }
        ]
      },
      "2": { mcqData: [], notesData: [], qaData: [] },
      "3": { mcqData: [], notesData: [], qaData: [] },
      "4": { mcqData: [], notesData: [], qaData: [] },
      "5": { mcqData: [], notesData: [], qaData: [] },
      "6": { mcqData: [], notesData: [], qaData: [] },
      "7": { mcqData: [], notesData: [], qaData: [] },
      "8": { mcqData: [], notesData: [], qaData: [] },
      "9": { mcqData: [], notesData: [], qaData: [] },
      "10": { mcqData: [], notesData: [], qaData: [] }
    },
    "8": {
      "1": { mcqData: [], notesData: [], qaData: [] },
      "2": { mcqData: [], notesData: [], qaData: [] },
      "3": { mcqData: [], notesData: [], qaData: [] },
      "4": { mcqData: [], notesData: [], qaData: [] },
      "5": { mcqData: [], notesData: [], qaData: [] },
      "6": { mcqData: [], notesData: [], qaData: [] },
      "7": { mcqData: [], notesData: [], qaData: [] },
      "8": { mcqData: [], notesData: [], qaData: [] },
      "9": { mcqData: [], notesData: [], qaData: [] },
      "10": { mcqData: [], notesData: [], qaData: [] }
    },
    "9": {
      "1": { mcqData: [], notesData: [], qaData: [] },
      "2": { mcqData: [], notesData: [], qaData: [] },
      "3": { mcqData: [], notesData: [], qaData: [] },
      "4": { mcqData: [], notesData: [], qaData: [] },
      "5": { mcqData: [], notesData: [], qaData: [] },
      "6": { mcqData: [], notesData: [], qaData: [] },
      "7": { mcqData: [], notesData: [], qaData: [] },
      "8": { mcqData: [], notesData: [], qaData: [] },
      "9": { mcqData: [], notesData: [], qaData: [] },
      "10": { mcqData: [], notesData: [], qaData: [] }
    },
    "10": {
      "1": { mcqData: [], notesData: [], qaData: [] },
      "2": { mcqData: [], notesData: [], qaData: [] },
      "3": { mcqData: [], notesData: [], qaData: [] },
      "4": { mcqData: [], notesData: [], qaData: [] },
      "5": { mcqData: [], notesData: [], qaData: [] },
      "6": { mcqData: [], notesData: [], qaData: [] },
      "7": { mcqData: [], notesData: [], qaData: [] },
      "8": { mcqData: [], notesData: [], qaData: [] },
      "9": { mcqData: [], notesData: [], qaData: [] },
      "10": { mcqData: [], notesData: [], qaData: [] }
    }
  };

  let currentView = 'mcq', currentChapter = '', currentPage = '', currentFilter = 'all';

  function updatePages() {
    const chapterSelect = document.getElementById('chapterSelect').value;
    const pageSelect = document.getElementById('pageSelect');
    currentChapter = chapterSelect;
    currentPage = '';
    pageSelect.innerHTML = '<option value="">Select Page</option>';
    clearAllContent();
    if (chapterSelect) {
      for (let i = 1; i <= 10; i++) {
        const option = document.createElement('option');
        option.value = i;
        option.textContent = `Page ${i}`;
        pageSelect.appendChild(option);
      }
      pageSelect.disabled = false;
    } else {
      pageSelect.disabled = true;
    }
  }

  function clearAllContent() {
    const emptyMsg = '<p style="text-align:center; padding:40px; color:#666; font-size:14px;">Select a chapter and page to view content</p>';
    document.getElementById('mcqContent').innerHTML = emptyMsg;
    document.getElementById('notesContent').innerHTML = emptyMsg;
    document.getElementById('qaContent').innerHTML = emptyMsg;
  }

  function loadPage() {
    const pageSelect = document.getElementById('pageSelect').value;
    currentPage = pageSelect;
    clearAllContent();
    if (currentChapter && currentPage) {
      const pageData = chapterData[currentChapter]?.[currentPage];
      if (pageData && (pageData.mcqData?.length || pageData.notesData?.length || pageData.qaData?.length)) {
        if (pageData.mcqData?.length) renderMCQ(pageData.mcqData);
        if (pageData.notesData?.length) renderNotes(pageData.notesData);
        if (pageData.qaData?.length) renderQA(pageData.qaData);
      } else {
        const emptyMsg = '<p style="text-align:center; padding:40px; color:#666; font-size:14px;">Content not available for this page yet</p>';
        document.getElementById('mcqContent').innerHTML = emptyMsg;
        document.getElementById('notesContent').innerHTML = emptyMsg;
        document.getElementById('qaContent').innerHTML = emptyMsg;
      }
    }
  }

  function renderMCQ(mcqs) {
    const pageKey = `${currentChapter}-${currentPage}`;
    const score = pageScores[pageKey] || 0;
    let html = `<div class="score-display"><span>Score: ${score}/${mcqs.length}</span><button class="reset-score-btn" onclick="resetScore()">Reset Score</button></div>`;
    html += `<div class="question-count">Questions: ${mcqs.length}</div>`;
    mcqs.forEach((q, idx) => {
      const fullQuestion = `Question:\n${q.question}\n\nOptions:\n${q.options.join('\n')}`;
      html += `<div class="question-item">
        <div class="question-header">
          <div class="question-number">Q${idx + 1}</div>
          <button class="chatgpt-btn" onclick="openAI(\`${escapeForJS(fullQuestion)}\`)">ChatGPT</button>
        </div>
        <div class="question-text">${q.question}</div>
        <div class="options">`;
      
      q.options.forEach(opt => {
        const optLetter = opt.charAt(0);
        html += `<div class="option" onclick="checkAnswer(this, '${q.correct}', '${optLetter}')">${opt}</div>`;
      });
      
      html += `</div>
        <div class="answer-display" id="answer-${idx}">
          <strong>Correct Answer:</strong> ${q.options.find(o => o.startsWith(q.correct))}
        </div>
        <div class="hint-display" id="hint-${idx}">
          <strong>üí° Hint:</strong> ${q.hint || "No hint available"}
        </div>
        <div class="button-group">
          <button class="btn btn-answer" onclick="toggleAnswer(${idx})">Show Answer</button>
          <button class="btn btn-hint" onclick="toggleHint(${idx})">Show Hint</button>
        </div>
      </div>`;
    });
    
    document.getElementById('mcqContent').innerHTML = html;
  }

  function toggleAnswer(idx) {
    const answerBox = document.getElementById(`answer-${idx}`);
    const button = event.target;
    
    if (answerBox.classList.contains('show')) {
      answerBox.classList.remove('show');
      button.textContent = 'Show Answer';
    } else {
      answerBox.classList.add('show');
      button.textContent = 'Hide Answer';
    }
  }

  function toggleHint(idx) {
    const hintBox = document.getElementById(`hint-${idx}`);
    const button = event.target;
    
    if (hintBox.classList.contains('show')) {
      hintBox.classList.remove('show');
      button.textContent = 'Show Hint';
    } else {
      hintBox.classList.add('show');
      button.textContent = 'Hide Hint';
    }
  }

  function renderNotes(notes) {
    const notesTitle = `<div class="notes-title">üìö Chapter ${currentChapter} Page ${currentPage}</div>`;
    let html = notesTitle;
    notes.forEach((note, idx) => {
      const tempDiv = document.createElement('div');
      tempDiv.innerHTML = note.content;
      const sections = [];
      const contentBlocks = tempDiv.querySelectorAll('.note-paragraph, .definition-box, .equation-box, .important-note, .highlight-box, table');
      contentBlocks.forEach(block => {
        sections.push(stripHtml(block.innerHTML).trim());
      });
      const noteText = `${note.heading}\n\n${sections.join('\n\n')}`;
      html += `<div class="note-segment"><button class="ai-btn" onclick="openAI(\`${escapeForJS(noteText)}\`)">AI</button><div class="segment-heading">${note.heading}</div>${note.content}</div>`;
    });
    document.getElementById('notesContent').innerHTML = html;
  }

  function renderQA(qas) {
    let html = `<p style="text-align:center; color:#666; margin-bottom:20px; font-size:13px;">Chapter ${currentChapter} Page ${currentPage} | Total: ${qas.length} Questions</p>`;
    qas.forEach((qa, idx) => {
      const cleanAnswer = stripHtml(qa.answer).replace(/\n+/g, '\n\n');
      const qaText = `Question:\n${qa.question}\n\nAnswer:\n${cleanAnswer}`;
      const markClass = `mark-${qa.marks}-item`;
      html += `<div class="qa-item ${markClass}" data-mark="${qa.marks}"><button class="ai-btn" onclick="openAI(\`${escapeForJS(qaText)}\`)">AI</button><div class="qa-question"><span class="qa-question-number">Q${idx + 1}</span>${qa.question}<span class="mark-badge mark-${qa.marks}">${qa.marks} Mark${qa.marks > 1 ? 's' : ''}</span></div><div class="qa-answer-section"><span class="qa-answer-label">‚úçÔ∏è Answer:</span><div class="answer-${qa.marks}mark">${qa.answer}</div></div></div>`;
    });
    document.getElementById('qaContent').innerHTML = html;
  }

  function checkAnswer(element, correct, selected) {
    const questionItem = element.closest('.question-item');
    const allOptions = questionItem.querySelectorAll('.option');
    if (element.classList.contains('selected')) return;
    allOptions.forEach(opt => { opt.style.pointerEvents = 'none'; });
    element.classList.add('selected');
    if (selected === correct) { element.classList.add('correct'); updateScore(1); }
    else { element.classList.add('wrong'); }
  }

  function updateScore(points) {
    const pageKey = `${currentChapter}-${currentPage}`;
    pageScores[pageKey] = (pageScores[pageKey] || 0) + points;
    localStorage.setItem('pageScores', JSON.stringify(pageScores));
    const scoreDisplay = document.querySelector('.score-display span');
    if (scoreDisplay) {
      const totalQuestions = chapterData[currentChapter][currentPage].mcqData.length;
      scoreDisplay.textContent = `Score: ${pageScores[pageKey]}/${totalQuestions}`;
    }
  }

  function resetScore() {
    const pageKey = `${currentChapter}-${currentPage}`;
    pageScores[pageKey] = 0;
    localStorage.setItem('pageScores', JSON.stringify(pageScores));
    loadPage();
  }

  function openAI(text) {
    const encodedText = encodeURIComponent(text);
    window.open(`https://chat.openai.com/?q=${encodedText}`, '_blank');
  }

  function stripHtml(html) {
    const tmp = document.createElement('div');
    tmp.innerHTML = html;
    return tmp.textContent || tmp.innerText || '';
  }

  function escapeForJS(text) {
    return text.replace(/\\/g, '\\\\').replace(/`/g, '\\`').replace(/\$/g, '\\$').replace(/\n/g, '\\n');
  }

  function switchView(view) {
    currentView = view;
    document.getElementById('mcqMode').style.display = view === 'mcq' ? 'block' : 'none';
    document.getElementById('notesMode').style.display = view === 'notes' ? 'block' : 'none';
    document.getElementById('qaMode').style.display = view === 'qa' ? 'block' : 'none';
    document.querySelectorAll('.view-btn').forEach(btn => btn.classList.remove('active'));
    event.target.classList.add('active');
  }

  function filterByMark(mark) {
    currentFilter = mark;
    document.querySelectorAll('.mark-filter-btn').forEach(btn => btn.classList.remove('active'));
    if (mark === 'all') { document.querySelector('.filter-all').classList.add('active'); }
    else { document.querySelector(`.filter-${mark}`).classList.add('active'); }
    document.querySelectorAll('.qa-item').forEach(item => {
      if (mark === 'all') { item.style.display = 'block'; }
      else {
        const itemMark = item.getAttribute('data-mark');
        item.style.display = itemMark == mark ? 'block' : 'none';
      }
    });
  }
</script>
</body>
</html>
